<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arewa Leadership Assessment Game</title>
    
    <!-- Facebook Meta Tags for Safety -->
    <meta property="og:title" content="Arewa Leadership Assessment Game">
    <meta property="og:description" content="An educational game assessing leadership qualities and governance approaches in Northern Nigeria. For learning purposes only.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/2c3e50/ffffff?text=Arewa+Leadership+Assessment">
    <meta property="og:site_name" content="Arewa Leadership Assessment Game">
    <meta name="description" content="Educational leadership assessment game for understanding governance approaches in Northern Nigeria.">
    <meta name="keywords" content="education, leadership, assessment, game, Nigeria, governance, learning, simulation, Northern Civic Matters">
    
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --background-color: #f5f7fa;
            --card-background: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: var(--text-color);
            line-height: 1.6;
            direction: ltr;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .hidden {
            display: none !important;
        }
        
        /* Creator Branding */
        .creator-branding {
            background: linear-gradient(135deg, #1a5276, #2c3e50);
            color: white;
            padding: 15px 0;
            text-align: center;
            border-bottom: 3px solid #ff9800;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .creator-branding h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .creator-branding p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        /* Language Selector */
        .language-selector {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .language-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(--border-color);
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(--primary-color);
            transition: all 0.3s ease;
        }
        
        .language-btn:hover {
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }
        
        /* Welcome Screen */
        .welcome-screen {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background: linear-gradient(rgba(44, 62, 80, 0.9), rgba(52, 152, 219, 0.9));
            background-size: cover;
            background-position: center;
        }
        
        .registration-form {
            background: var(--card-background);
            padding: 40px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 600px;
            position: relative;
        }
        
        .registration-form h2 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
            font-size: 2rem;
        }
        
        .simulation-period-info {
            background: linear-gradient(135deg, #3498db, #2c3e50);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }
        
        .simulation-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .simulation-stat {
            text-align: center;
        }
        
        .simulation-stat .number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .countdown-timer {
            text-align: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .timer-display {
            font-size: 1.8rem;
            font-weight: bold;
            margin-top: 5px;
            color: #ffeb3b;
        }
        
        .disclaimer {
            background: #fff8e1;
            border-left: 4px solid var(--warning-color);
            padding: 15px;
            margin-bottom: 25px;
            border-radius: 0 8px 8px 0;
        }
        
        .disclaimer h4 {
            color: var(--warning-color);
            margin-bottom: 10px;
        }
        
        .disclaimer ul {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .form-group select,
        .form-group input[type="text"],
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        .form-group select:focus,
        .form-group input[type="text"]:focus,
        .form-group textarea:focus {
            border-color: var(--secondary-color);
            outline: none;
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 10px;
        }
        
        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }
        
        /* Game Header */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        header h1 {
            text-align: center;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        
        .header-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }
        
        /* Progress Indicator */
        .progress-indicator {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            gap: 20px;
        }
        
        .progress-step {
            text-align: center;
            position: relative;
            flex: 1;
        }
        
        .progress-step::after {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            width: 100%;
            height: 2px;
            background: var(--border-color);
            z-index: 1;
        }
        
        .progress-step:last-child::after {
            display: none;
        }
        
        .progress-step.active::after {
            background: var(--secondary-color);
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            background: var(--border-color);
            color: var(--text-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }
        
        .progress-step.active .step-number {
            background: var(--secondary-color);
            color: white;
            transform: scale(1.1);
        }
        
        .progress-step.completed .step-number {
            background: var(--success-color);
            color: white;
        }
        
        /* Game Area */
        .game-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 768px) {
            .game-area {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            background: var(--card-background);
            padding: 25px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            height: fit-content;
        }
        
        .panel h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.5rem;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }
        
        /* Leader Info */
        .leader-info {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .leader-image-container {
            width: 180px;
            height: 180px;
            margin: 0 auto 20px;
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid var(--secondary-color);
            box-shadow: var(--shadow);
        }
        
        .leader-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }
        
        /* Achievement List */
        .achievement-list {
            max-height: 400px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .achievement-item {
            background: #f8f9fa;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease;
        }
        
        .achievement-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .achievement-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .rating-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .rating-option {
            padding: 8px 12px;
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            text-align: center;
            flex: 1;
            min-width: 80px;
        }
        
        .rating-option:hover {
            border-color: var(--secondary-color);
            color: var(--secondary-color);
        }
        
        .rating-option.active {
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
            transform: scale(1.05);
        }
        
        /* Approach Selection */
        .approach-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .approach-card {
            padding: 20px;
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .approach-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
            border-color: var(--secondary-color);
        }
        
        .approach-card.selected {
            border-color: var(--secondary-color);
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            transform: scale(1.02);
        }
        
        .approach-card h4 {
            color: var(--primary-color);
            margin-bottom: 5px;
            font-size: 1.2rem;
        }
        
        .approach-card p {
            color: #666;
            font-size: 0.9rem;
        }
        
        /* Opinion Points */
        .opinion-points {
            margin-top: 20px;
        }
        
        .opinion-point {
            margin-bottom: 15px;
        }
        
        .opinion-point label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .opinion-point input[type="text"] {
            width: 100%;
            padding: 10px 15px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 14px;
        }
        
        /* Facebook Community Section */
        .facebook-community-section {
            background: linear-gradient(135deg, #2c3e50, #4a6491);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin: 40px 0;
            text-align: center;
            border: 3px solid #1877f2;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .facebook-community-section h3 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: white;
        }
        
        .facebook-community-section p {
            margin-bottom: 25px;
            font-size: 1.2rem;
            opacity: 0.9;
            line-height: 1.6;
        }
        
        .facebook-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .facebook-feature {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s;
        }
        
        .facebook-feature:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .facebook-feature h4 {
            color: white;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .facebook-feature p {
            margin-bottom: 0;
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .facebook-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .facebook-button {
            padding: 15px 35px;
            background: #1877f2;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(24, 119, 242, 0.3);
        }
        
        .facebook-button:hover {
            background: #0d5bb5;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(24, 119, 242, 0.4);
        }
        
        .facebook-link {
            display: block;
            background: white;
            color: #1877f2;
            padding: 15px;
            border-radius: 8px;
            margin: 20px auto;
            max-width: 600px;
            font-family: monospace;
            font-size: 1.1rem;
            word-break: break-all;
            border: 2px dashed #1877f2;
        }
        
        /* Results Breakdown */
        .results-breakdown {
            margin: 30px 0;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .breakdown-item:last-child {
            border-bottom: none;
        }
        
        .breakdown-label {
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .breakdown-value {
            font-weight: bold;
        }
        
        /* Leaderboard */
        .leaderboard {
            margin: 40px 0;
        }
        
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .leaderboard-table th {
            background: var(--primary-color);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .leaderboard-table td {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .leaderboard-table tr:hover {
            background: #f5f7fa;
        }
        
        .rank-badge {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: var(--secondary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .rank-1 { background: gold; color: #333; }
        .rank-2 { background: silver; color: #333; }
        .rank-3 { background: #cd7f32; color: white; }
        
        /* Aggregate Results */
        .aggregate-results {
            margin: 40px 0;
        }
        
        .aggregate-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .aggregate-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: var(--shadow);
        }
        
        .aggregate-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--secondary-color);
            margin-bottom: 10px;
        }
        
        /* Social Sharing */
        .social-sharing {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .social-button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 120px;
        }
        
        .social-button.facebook { background: #3b5998; }
        .social-button.twitter { background: #1da1f2; }
        .social-button.whatsapp { background: #25d366; }
        .social-button.email { background: #ea4335; }
        .social-button.copy { background: #6c757d; }
        
        .social-button:hover {
            transform: translateY(-2px);
            opacity: 0.9;
        }
        
        /* Buttons */
        .action-button {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }
        
        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.3);
        }
        
        .action-button:active {
            transform: translateY(0);
        }
        
        .share-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .share-button {
            padding: 12px;
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .share-button:hover {
            border-color: var(--secondary-color);
            background: #f8f9fa;
            transform: translateY(-2px);
        }
        
        /* Results */
        .result-card {
            background: var(--card-background);
            padding: 30px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            margin: 20px 0;
        }
        
        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .result-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .result-label {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .result-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        /* Export Section */
        .export-section {
            margin: 30px 0;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .export-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .export-button {
            padding: 12px 20px;
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }
        
        .export-button:hover {
            border-color: var(--secondary-color);
            background: var(--secondary-color);
            color: white;
        }
        
        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            z-index: 2000;
            box-shadow: var(--shadow);
            max-width: 400px;
            animation: slideIn 0.3s ease;
        }
        
        .notification.success {
            background: var(--success-color);
        }
        
        .notification.error {
            background: var(--accent-color);
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
        
        /* LGA Count */
        .lga-count {
            font-size: 0.8rem;
            color: #666;
            margin-top: 5px;
            text-align: right;
        }
        
        /* Approach Badges */
        .approach-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .approach-apc { background: #64c832; color: white; }
        .approach-pdp { background: #d62b3c; color: white; }
        .approach-nnpp { background: #1a3c34; color: white; }
        .approach-lp { background: #0c4b33; color: white; }
        
        /* Alignment Meter */
        .alignment-meter {
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            position: relative;
        }
        
        .alignment-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success-color), #2ecc71);
            border-radius: 10px;
            transition: width 1s ease;
        }
        
        .alignment-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #666;
        }
        
        /* Tabs */
        .results-tabs {
            display: flex;
            gap: 10px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .tab-button {
            padding: 12px 25px;
            background: #f8f9fa;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .creator-branding h1 {
                font-size: 1.5rem;
            }
            
            .creator-branding p {
                font-size: 0.8rem;
            }
            
            .registration-form {
                padding: 20px;
            }
            
            .simulation-stats {
                grid-template-columns: 1fr;
            }
            
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .approach-list {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .language-selector {
                position: relative;
                top: 0;
                right: 0;
                margin-bottom: 15px;
                display: flex;
                justify-content: center;
            }
            
            .facebook-buttons {
                flex-direction: column;
            }
            
            .facebook-features {
                grid-template-columns: 1fr;
            }
            
            .social-sharing {
                flex-direction: column;
            }
            
            .social-button {
                min-width: 100%;
            }
            
            .export-buttons {
                flex-direction: column;
            }
            
            .leaderboard-table {
                font-size: 0.9rem;
            }
            
            .leaderboard-table th,
            .leaderboard-table td {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Creator Branding -->
    <div class="creator-branding">
        <div class="container">
            <h1>üéÆ Arewa Digital Media Content</h1>
            <p>Creator of educational leadership games for Northern Nigeria | Empowering civic education through interactive simulations</p>
        </div>
    </div>

    <!-- Language Selector -->
    <div class="language-selector">
        <button class="language-btn" onclick="switchLanguage('en')" id="lang-en">
            <span>üá¨üáß</span> ENGLISH
        </button>
        <button class="language-btn" onclick="switchLanguage('ha')" id="lang-ha">
            <span>üá≥üá¨</span> HAUSA
        </button>
    </div>

    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcome-screen">
        <div class="registration-form">
            <h2 id="welcome-title">Arewa Leadership Assessment Game</h2>
            <p style="text-align: center; color: #666; margin-bottom: 20px;">Created by <strong>Arewa Digital Media Content</strong></p>
            
            <div class="simulation-period-info">
                <h4 id="simulation-period">üìÖ Assessment Period</h4>
                <div class="simulation-stats">
                    <div class="simulation-stat">
                        <div class="number" id="total-participants-count">0</div>
                        <div class="label" id="participants-label">Participants</div>
                    </div>
                    <div class="simulation-stat">
                        <div class="number" id="states-participated">0</div>
                        <div class="label" id="states-label">States</div>
                    </div>
                    <div class="simulation-stat">
                        <div class="number" id="days-remaining">30</div>
                        <div class="label" id="days-label">Days Left</div>
                    </div>
                </div>
                <div class="countdown-timer">
                    <div id="time-remaining-label">‚è∞ Time Remaining:</div>
                    <div class="timer-display" id="countdown-timer">30d 00h 00m 00s</div>
                </div>
            </div>
            
            <div class="disclaimer">
                <h4 id="disclaimer-title">üìö Educational Purpose Disclaimer</h4>
                <p id="disclaimer-text">This leadership assessment game is created for educational and learning purposes only. It is designed to help users understand different governance approaches and leadership qualities in Northern Nigeria. It is not affiliated with any political organization, nor is it designed to influence opinions or promote any particular approach.</p>
            </div>
            
            <div class="form-group">
                <label for="state" id="state-label">State of Origin:</label>
                <select id="state">
                    <option value="">-- Select State --</option>
                    <option value="kano">Kano State</option>
                    <option value="kaduna">Kaduna State</option>
                    <option value="katsina">Katsina State</option>
                    <option value="bauchi">Bauchi State</option>
                    <option value="borno">Borno State</option>
                    <option value="jigawa">Jigawa State</option>
                    <option value="kebbi">Kebbi State</option>
                    <option value="sokoto">Sokoto State</option>
                    <option value="zamfara">Zamfara State</option>
                    <option value="gombe">Gombe State</option>
                    <option value="adamawa">Adamawa State</option>
                    <option value="yobe">Yobe State</option>
                    <option value="taraba">Taraba State</option>
                    <option value="plateau">Plateau State</option>
                    <option value="niger">Niger State</option>
                    <option value="benue">Benue State</option>
                    <option value="kogi">Kogi State</option>
                    <option value="kwara">Kwara State</option>
                    <option value="nassarawa">Nassarawa State</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="lga" id="lga-label">Local Government Area:</label>
                <select id="lga">
                    <option value="">-- Select State First --</option>
                </select>
                <div class="lga-count" id="lga-count"></div>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="age-verification">
                <label for="age-verification" id="age-label">I confirm that I am 18 years or older</label>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="rules-agreement">
                <label for="rules-agreement" id="rules-label">I agree to follow the rules and guidelines</label>
            </div>
            
            <button class="action-button" onclick="startGame()" id="start-button">
                Start Assessment
            </button>
        </div>
    </div>

    <!-- Main Game -->
    <div id="main-game" class="hidden">
        <header>
            <div class="container">
                <h1 id="game-title">Arewa Leadership Assessment Game</h1>
                <p style="text-align: center; opacity: 0.9;" id="game-subtitle">By Arewa Digital Media Content | Assess Leadership Qualities & Explore Approaches</p>
                
                <div class="header-controls">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 4px;">
                            üéÆ <span id="player-id-display">Participant</span>
                        </span>
                    </div>
                    <button onclick="returnToWelcome()" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 8px 15px; border-radius: 5px; cursor: pointer;">
                        üîÑ <span id="restart-button">Restart</span>
                    </button>
                </div>
            </div>
        </header>
        
        <div class="container">
            <!-- Progress Indicator -->
            <div class="progress-indicator">
                <div class="progress-step active" id="step1">
                    <div class="step-number">1</div>
                    <div id="step1-label">Evaluate Leader</div>
                </div>
                <div class="progress-step" id="step2">
                    <div class="step-number">2</div>
                    <div id="step2-label">Explore Approach</div>
                </div>
                <div class="progress-step" id="step3">
                    <div class="step-number">3</div>
                    <div id="step3-label">Share Analysis</div>
                </div>
            </div>
            
            <!-- Game Area -->
            <div class="game-area">
                <!-- Left Panel -->
                <div class="panel">
                    <h2 id="achievements-title">Regional Leader's Performance (2023-Date)</h2>
                    <div id="leader-info"></div>
                    
                    <h3 id="rate-achievements">Evaluate the Leader's Performance</h3>
                    <div class="achievement-list" id="achievement-list"></div>
                    
                    <div class="achievement-stats" id="achievement-stats" style="display: none; display: flex; justify-content: space-around; margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold; color: var(--secondary-color);" id="rated-count">0</div>
                            <div style="font-size: 0.9rem; color: #666;" id="rated-label">Evaluated</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold; color: var(--secondary-color);" id="avg-rating">0.0</div>
                            <div style="font-size: 0.9rem; color: #666;" id="avg-label">Avg Assessment</div>
                        </div>
                    </div>
                </div>
                
                <!-- Right Panel -->
                <div class="panel">
                    <h2 id="choose-party-title">Explore Different Leadership Approaches</h2>
                    
                    <div class="approach-list">
                        <div class="approach-card" data-approach="APC" onclick="selectApproach(this)">
                            <h4>Modernization Approach <span class="approach-badge approach-apc">APC</span></h4>
                            <p id="apc-slogan">Forward-Looking Governance</p>
                            <div class="approach-count" id="apc-count">0 participants</div>
                        </div>
                        <div class="approach-card" data-approach="PDP" onclick="selectApproach(this)">
                            <h4>People-Centered Approach <span class="approach-badge approach-pdp">PDP</span></h4>
                            <p id="pdp-slogan">Community-Focused Approach</p>
                            <div class="approach-count" id="pdp-count">0 participants</div>
                        </div>
                        <div class="approach-card" data-approach="NNPP" onclick="selectApproach(this)">
                            <h4>Service-Based Approach <span class="approach-badge approach-nnpp">NNPP</span></h4>
                            <p id="nnpp-slogan">Service-Based Governance</p>
                            <div class="approach-count" id="nnpp-count">0 participants</div>
                        </div>
                        <div class="approach-card" data-approach="LP" onclick="selectApproach(this)">
                            <h4>Grassroots Approach <span class="approach-badge approach-lp">LP</span></h4>
                            <p id="lp-slogan">Grassroots Perspective</p>
                            <div class="approach-count" id="lp-count">0 participants</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="leader-name" id="leader-label">Leader You're Assessing:</label>
                        <input type="text" id="leader-name" placeholder="Enter leader's full name">
                    </div>
                    
                    <!-- Opinion Section -->
                    <div class="opinion-points" id="opinion-section" style="display: none;">
                        <h3 id="opinion-title">Your Analysis of The Selected Leader (5 key points about performance and capacity)</h3>
                        
                        <div class="opinion-point">
                            <label for="opinion1" id="point1-label">First point about performance and capacity</label>
                            <input type="text" id="opinion1" placeholder="Enter your first point">
                        </div>
                        
                        <div class="opinion-point">
                            <label for="opinion2" id="point2-label">Second point about performance and capacity</label>
                            <input type="text" id="opinion2" placeholder="Enter your second point">
                        </div>
                        
                        <div class="opinion-point">
                            <label for="opinion3" id="point3-label">Third point about performance and capacity</label>
                            <input type="text" id="opinion3" placeholder="Enter your third point">
                        </div>
                        
                        <div class="opinion-point">
                            <label for="opinion4" id="point4-label">Fourth point about performance and capacity</label>
                            <input type="text" id="opinion4" placeholder="Enter your fourth point">
                        </div>
                        
                        <div class="opinion-point">
                            <label for="opinion5" id="point5-label">Fifth point about performance and capacity</label>
                            <input type="text" id="opinion5" placeholder="Enter your fifth point">
                        </div>
                    </div>
                    
                    <div class="alignment-meter">
                        <div class="alignment-fill" id="alignment-fill" style="width: 0%"></div>
                    </div>
                    <div class="alignment-labels">
                        <span id="alignment-status">ASSESSMENT STATUS: 0%</span>
                        <span id="alignment-level">ASSESSING</span>
                    </div>
                    
                    <button class="action-button" onclick="submitGame()" id="submit-button">
                        SUBMIT ASSESSMENT
                    </button>
                </div>
            </div>
            
            <!-- Results Area -->
            <div id="results-area" class="hidden">
                <!-- Tabs Navigation -->
                <div class="results-tabs">
                    <button class="tab-button active" onclick="showTab('personal-results')" id="personal-tab">
                        Personal Results
                    </button>
                    <button class="tab-button" onclick="showTab('leaderboard')" id="leaderboard-tab">
                        Assessment Board
                    </button>
                    <button class="tab-button" onclick="showTab('aggregate-results')" id="aggregate-tab">
                        Aggregate Results
                    </button>
                    <button class="tab-button" onclick="showTab('final-results')" id="final-tab">
                        Final Results
                    </button>
                </div>
                
                <!-- Personal Results Tab -->
                <div id="personal-results" class="tab-content active">
                    <div class="result-card">
                        <h2 id="results-title">Your Assessment Results</h2>
                        
                        <div style="text-align: center; margin: 20px 0;">
                            <div style="font-size: 3rem; color: var(--primary-color); font-weight: bold;" id="final-score">
                                0%
                            </div>
                            <div style="color: #666; margin-bottom: 20px;" id="average-score-label">Average Assessment Score</div>
                        </div>
                        
                        <div class="result-grid">
                            <div class="result-item">
                                <div class="result-label" id="result-state-label">State</div>
                                <div class="result-value" id="result-state">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label" id="result-lga-label">LGA</div>
                                <div class="result-value" id="result-lga">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label" id="result-approach-label">Approach</div>
                                <div class="result-value" id="result-approach">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label" id="result-leader-label">Leader</div>
                                <div class="result-value" id="result-leader">-</div>
                            </div>
                        </div>
                        
                        <!-- Results Breakdown -->
                        <div class="results-breakdown">
                            <h3 id="breakdown-title">Analysis Breakdown</h3>
                            <div class="breakdown-item">
                                <span class="breakdown-label" id="breakdown-leader-label">Leader Assessment Score:</span>
                                <span class="breakdown-value" id="breakdown-leader">0%</span>
                            </div>
                            <div class="breakdown-item">
                                <span class="breakdown-label" id="breakdown-approach-label">Approach Alignment:</span>
                                <span class="breakdown-value" id="breakdown-approach">+0%</span>
                            </div>
                            <div class="breakdown-item">
                                <span class="breakdown-label" id="breakdown-opinion-label">Analysis Points Bonus:</span>
                                <span class="breakdown-value" id="breakdown-opinion">+0%</span>
                            </div>
                            <div class="breakdown-item">
                                <span class="breakdown-label" id="breakdown-total-label">Total Assessment Score:</span>
                                <span class="breakdown-value" id="breakdown-total">0%</span>
                            </div>
                        </div>
                        
                        <!-- Export Section -->
                        <div class="export-section">
                            <h3 id="export-title">Export Your Results</h3>
                            <p id="export-text">Download your results for personal records or analysis</p>
                            <div class="export-buttons">
                                <button class="export-button" onclick="exportPersonalResults()">
                                    üìÑ <span id="export-personal-label">Personal Results</span>
                                </button>
                                <button class="export-button" onclick="exportAllResults()">
                                    üìä <span id="export-all-label">All Data (CSV)</span>
                                </button>
                                <button class="export-button" onclick="exportAggregateResults()">
                                    üìà <span id="export-aggregate-label">Aggregate Stats</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Social Sharing -->
                        <div style="margin-top: 30px;">
                            <h3 id="share-title">üéâ Share Your Analysis!</h3>
                            <p id="share-text">Share your leadership assessment insights with friends and family</p>
                            
                            <div class="social-sharing">
                                <button class="social-button facebook" onclick="shareFacebookSafe()">
                                    <span>f</span> Facebook
                                </button>
                                <button class="social-button twitter" onclick="shareTwitter()">
                                    <span>ùïè</span> Twitter
                                </button>
                                <button class="social-button whatsapp" onclick="shareWhatsApp()">
                                    <span>üì±</span> WhatsApp
                                </button>
                                <button class="social-button email" onclick="shareEmail()">
                                    <span>‚úâÔ∏è</span> Email
                                </button>
                                <button class="social-button copy" onclick="copyResults()">
                                    <span>üìã</span> <span id="copy-label">Copy</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Facebook Community Section -->
                        <div class="facebook-community-section" id="facebook-community-section">
                            <div style="text-align: center; margin-bottom: 20px;">
                                <span style="background: #ff9800; padding: 8px 20px; border-radius: 20px; font-size: 0.9rem; font-weight: bold; color: white;">üåç JOIN OUR COMMUNITY</span>
                            </div>
                            
                            <h3>üì¢ For More Insight on Challenges Facing Northern States</h3>
                            <p>Join our Facebook community for meaningful discussions, soluble forums, and in-depth analysis of Northern Nigeria's leadership challenges.</p>
                            
                            <div class="facebook-features">
                                <div class="facebook-feature">
                                    <h4>üó£Ô∏è Discussion Forum</h4>
                                    <p>Engage in constructive conversations about governance and leadership</p>
                                </div>
                                <div class="facebook-feature">
                                    <h4>üìä Insightful Analysis</h4>
                                    <p>Get expert perspectives on Northern Nigeria's unique challenges</p>
                                </div>
                                <div class="facebook-feature">
                                    <h4>üé≠ Entertainment Programs</h4>
                                    <p>Access our 7 entertainment programs featuring Northern culture</p>
                                </div>
                                <div class="facebook-feature">
                                    <h4>ü§ù Community Network</h4>
                                    <p>Connect with like-minded individuals passionate about Northern development</p>
                                </div>
                            </div>
                            
                            <!-- Your Facebook URL -->
                            <div class="facebook-link">
                                üîó <strong>Follow our Facebook Channel:</strong><br>
                                https://facebook.com/arewadigitalmediacontent
                            </div>
                            
                            <div class="facebook-buttons">
                                <button class="facebook-button" onclick="followFacebookChannel()">
                                    <span>üëç</span> Follow Our Facebook Channel
                                </button>
                                <button class="facebook-button" onclick="explorePrograms()" style="background: linear-gradient(135deg, #ff9800, #ff5722);">
                                    <span>üé≠</span> Explore Our 7 Programs
                                </button>
                                <button class="facebook-button" onclick="joinDiscussion()" style="background: linear-gradient(135deg, #27ae60, #2ecc71);">
                                    <span>üí¨</span> Join Discussion Forum
                                </button>
                            </div>
                            
                            <p style="margin-top: 25px; font-size: 1rem; opacity: 0.9;">
                                Stay connected for more educational games, cultural content, and community discussions about Northern Nigeria's development!
                            </p>
                        </div>
                        
                        <div class="share-buttons">
                            <button class="share-button" onclick="playAgain()">
                                üîÑ <span id="play-again-label">Assess Again</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Leaderboard Tab -->
                <div id="leaderboard" class="tab-content">
                    <div class="result-card">
                        <h2 id="leaderboard-title">Top Performers Assessment Board</h2>
                        <p id="leaderboard-subtitle">See how your results compare with other participants</p>
                        
                        <div class="leaderboard">
                            <table class="leaderboard-table">
                                <thead>
                                    <tr>
                                        <th id="rank-header">Rank</th>
                                        <th id="player-header">Participant</th>
                                        <th id="score-header">Score</th>
                                        <th id="approach-header">Approach</th>
                                        <th id="state-header">State</th>
                                        <th id="date-header">Date</th>
                                    </tr>
                                </thead>
                                <tbody id="leaderboard-body">
                                    <!-- Leaderboard data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="export-section">
                            <h3>Export Assessment Board Data</h3>
                            <div class="export-buttons">
                                <button class="export-button" onclick="exportLeaderboard()">
                                    üìä Export Assessment Board (CSV)
                                </button>
                                <button class="export-button" onclick="printLeaderboard()">
                                    üñ®Ô∏è Print Assessment Board
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Aggregate Results Tab -->
                <div id="aggregate-results" class="tab-content">
                    <div class="result-card">
                        <h2 id="aggregate-title">Assessment Results & Statistics</h2>
                        <p id="aggregate-subtitle">Overall statistics from all assessments</p>
                        
                        <div class="aggregate-results">
                            <div class="aggregate-grid">
                                <div class="aggregate-card">
                                    <div class="aggregate-number" id="total-participants-aggregate">0</div>
                                    <div id="total-participants-label">Total Participants</div>
                                </div>
                                <div class="aggregate-card">
                                    <div class="aggregate-number" id="avg-score-aggregate">0%</div>
                                    <div id="avg-score-label">Average Score</div>
                                </div>
                                <div class="aggregate-card">
                                    <div class="aggregate-number" id="top-score-aggregate">0%</div>
                                    <div id="top-score-label">Top Score</div>
                                </div>
                                <div class="aggregate-card">
                                    <div class="aggregate-number" id="states-count-aggregate">0</div>
                                    <div id="states-count-label">States Represented</div>
                                </div>
                            </div>
                            
                            <!-- Approach Distribution -->
                            <div style="margin-top: 40px;">
                                <h3 id="approach-distribution-title">Approach Distribution</h3>
                                <div class="aggregate-grid" id="approach-distribution">
                                    <!-- Approach stats will be populated here -->
                                </div>
                            </div>
                            
                            <!-- State Distribution -->
                            <div style="margin-top: 40px;">
                                <h3 id="state-distribution-title">Top States</h3>
                                <div class="aggregate-grid" id="state-distribution">
                                    <!-- State stats will be populated here -->
                                </div>
                            </div>
                            
                            <!-- Detailed Analysis -->
                            <div style="margin-top: 40px;">
                                <h3 id="analysis-title">Detailed Analysis</h3>
                                <div class="results-breakdown">
                                    <div class="breakdown-item">
                                        <span class="breakdown-label">Assessment Start Date:</span>
                                        <span class="breakdown-value" id="assessment-start-date">-</span>
                                    </div>
                                    <div class="breakdown-item">
                                        <span class="breakdown-label">Total Assessments Submitted:</span>
                                        <span class="breakdown-value" id="total-assessments">0</span>
                                    </div>
                                    <div class="breakdown-item">
                                        <span class="breakdown-label">Most Common Approach:</span>
                                        <span class="breakdown-value" id="most-common-approach">-</span>
                                    </div>
                                    <div class="breakdown-item">
                                        <span class="breakdown-label">Most Active State:</span>
                                        <span class="breakdown-value" id="most-active-state">-</span>
                                    </div>
                                    <div class="breakdown-item">
                                        <span class="breakdown-label">Average Leader Rating:</span>
                                        <span class="breakdown-value" id="avg-leader-rating">0.0</span>
                                    </div>
                                </div>
                        </div>
                        </div>
                        
                        <div class="export-section">
                            <h3>Export Aggregate Data</h3>
                            <div class="export-buttons">
                                <button class="export-button" onclick="exportAggregateData()">
                                    üìà Export Complete Analysis
                                </button>
                                <button class="export-button" onclick="exportStatistics()">
                                    üìä Export Statistics (JSON)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Final Results Tab -->
                <div id="final-results" class="tab-content">
                    <div class="result-card">
                        <h2 id="final-results-title">Final Assessment Results</h2>
                        <div class="countdown-timer" style="background: linear-gradient(135deg, #2c3e50, #4a6491); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                            <div style="font-size: 1.2rem; margin-bottom: 10px;">üìä FINAL ASSESSMENT RESULTS</div>
                            <div class="timer-display" id="final-countdown">Assessment Ended</div>
                            <div style="margin-top: 10px; font-size: 0.9rem;" id="final-status">Analysis complete for all participants</div>
                        </div>
                        
                        <div class="aggregate-results">
                            <h3>Comprehensive Analysis Report</h3>
                            
                            <div class="aggregate-grid">
                                <div class="aggregate-card" style="background: linear-gradient(135deg, #2c3e50, #4a6491); color: white;">
                                    <div class="aggregate-number" id="final-total-participants">0</div>
                                    <div>Total Participants</div>
                                </div>
                                <div class="aggregate-card" style="background: linear-gradient(135deg, #27ae60, #2ecc71); color: white;">
                                    <div class="aggregate-number" id="final-avg-score">0%</div>
                                    <div>Final Avg Score</div>
                                </div>
                                <div class="aggregate-card" style="background: linear-gradient(135deg, #e74c3c, #e67e22); color: white;">
                                    <div class="aggregate-number" id="final-top-score">0%</div>
                                    <div>Highest Score</div>
                                </div>
                                <div class="aggregate-card" style="background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white;">
                                    <div class="aggregate-number" id="final-states-count">0</div>
                                    <div>States Covered</div>
                                </div>
                            </div>
                            
                            <!-- Assessment Announcement -->
                            <div style="text-align: center; margin: 40px 0; padding: 30px; background: linear-gradient(135deg, #ffeb3b, #f39c12); border-radius: 15px;">
                                <h2 style="color: #333; margin-bottom: 15px;">üèÜ MOST COMMON APPROACH</h2>
                                <div style="font-size: 3rem; font-weight: bold; color: #333;" id="winning-approach">-</div>
                                <div style="font-size: 1.2rem; color: #333; margin-top: 10px;" id="winning-approach-count">0 participants</div>
                            </div>
                            
                            <!-- Regional Analysis -->
                            <div style="margin-top: 40px;">
                                <h3>Regional Analysis</h3>
                                <div class="leaderboard-table">
                                    <thead>
                                        <tr>
                                            <th>Region</th>
                                            <th>Participants</th>
                                            <th>Avg Score</th>
                                            <th>Top Approach</th>
                                            <th>Engagement Rate</th>
                                        </tr>
                                    </thead>
                                    <tbody id="regional-analysis">
                                        <!-- Regional data will be populated here -->
                                    </tbody>
                                </div>
                            </div>
                            
                            <!-- Time Analysis -->
                            <div style="margin-top: 40px;">
                                <h3>Time-based Analysis</h3>
                                <div class="results-breakdown">
                                    <div class="breakdown-item">
                                        <span class="breakdown-label">Assessment Duration:</span>
                                        <span class="breakdown-value" id="assessment-duration">30 days</span>
                                    </div>
                                    <div class="breakdown-item">
                                        <span class="breakdown-label">Peak Participation Day:</span>
                                        <span class="breakdown-value" id="peak-day">-</span>
                                    </div>
                                    <div class="breakdown-item">
                                        <span class="breakdown-label">Average Completion Time:</span>
                                        <span class="breakdown-value" id="avg-completion-time">-</span>
                                    </div>
                                    <div class="breakdown-item">
                                        <span class="breakdown-label">Participation Growth Rate:</span>
                                        <span class="breakdown-value" id="growth-rate">0%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Recommendations -->
                            <div style="margin-top: 40px; padding: 25px; background: #e3f2fd; border-radius: 10px;">
                                <h3 style="color: var(--primary-color);">üìã Key Insights</h3>
                                <ul style="margin-top: 15px; padding-left: 20px;">
                                    <li style="margin-bottom: 10px;" id="rec1">Based on participant analysis, focus on infrastructure development</li>
                                    <li style="margin-bottom: 10px;" id="rec2">Youth engagement programs show strong alignment potential</li>
                                    <li style="margin-bottom: 10px;" id="rec3">Educational reforms are highly rated across all regions</li>
                                    <li style="margin-bottom: 10px;" id="rec4">Security initiatives need more communication and transparency</li>
                                    <li id="rec5">Agricultural support programs show strong regional variation</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="export-section">
                            <h3>Export Final Report</h3>
                            <div class="export-buttons">
                                <button class="export-button" onclick="exportFinalReport()">
                                    üìÑ Complete Final Report (PDF)
                                </button>
                                <button class="export-button" onclick="exportExecutiveSummary()">
                                    üìã Executive Summary
                                </button>
                                <button class="export-button" onclick="exportRawData()">
                                    üíæ Raw Data Archive
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification Container -->
    <div id="notification-container"></div>

<script>
// ========== GAME CONFIGURATION ==========
const GAME_CONFIG = {
    name: {
        full: "Arewa Leadership Assessment Game",
        short: "Leadership Game",
        tagline: "Evaluate Leadership Qualities in Northern Nigeria",
        hashtags: ["LeadershipGame", "ArewaEducation", "CivicLearning"],
        description: "An interactive educational game assessing leadership qualities and governance approaches in Northern Nigeria. For educational purposes only."
    },
    
    terminology: {
        replace: {
            'political': 'leadership',
            'party': 'approach',
            'supporters': 'participants',
            'vote': 'select',
            'campaign': 'examine',
            'election': 'assessment',
            'politician': 'leader',
            'governor': 'regional leader',
            'score': 'assessment result',
            'support': 'alignment',
            'simulation': 'assessment game'
        }
    }
};

// ========== YOUR FACEBOOK CHANNEL ==========
const FACEBOOK_CHANNELS = {
    main: "https://facebook.com/arewadigitalmediacontent",
    programs: [
        {name: "Northern Folktales", emoji: "üìñ", url: "https://facebook.com/NorthernFolktales"},
        {name: "Northern Romance", emoji: "üíñ", url: "https://facebook.com/NorthernRomance"},
        {name: "Northern Tutorials", emoji: "üéì", url: "https://facebook.com/NorthernTutorials"},
        {name: "Northern Culture", emoji: "üèõÔ∏è", url: "https://facebook.com/NorthernCulture"},
        {name: "Northern Civic Matters", emoji: "üèõÔ∏è", url: "https://facebook.com/NorthernCivicMatters"},
        {name: "Northern Comedy", emoji: "üòÑ", url: "https://facebook.com/NorthernComedy"},
        {name: "Northern Theater", emoji: "üé≠", url: "https://facebook.com/NorthernTheater"}
    ]
};

// ========== GLOBAL VARIABLES ==========
let simulationStartTime = null;
let simulationEndTime = null;
let countdownInterval = null;
let isSimulationEnded = false;

// ========== LANGUAGE DATA ==========
const translations = {
    en: {
        // Welcome Screen
        'welcome-title': 'Arewa Leadership Assessment Game',
        'simulation-period': 'üìÖ Assessment Period',
        'participants-label': 'Participants',
        'states-label': 'States',
        'days-label': 'Days Left',
        'time-remaining-label': '‚è∞ Time Remaining:',
        'disclaimer-title': 'üìö Educational Purpose Disclaimer',
        'disclaimer-text': 'This leadership assessment game is created for educational and learning purposes only. It is designed to help users understand different governance approaches and leadership qualities in Northern Nigeria. It is not affiliated with any political organization, nor is it designed to influence opinions or promote any particular approach.',
        'state-label': 'State of Origin:',
        'lga-label': 'Local Government Area:',
        'age-label': 'I confirm that I am 18 years or older',
        'rules-label': 'I agree to follow the rules and guidelines',
        'start-button': 'Start Assessment',
        
        // Game Screen
        'game-title': 'Arewa Leadership Assessment Game',
        'game-subtitle': 'Assess Leadership Qualities & Explore Approaches',
        'restart-button': 'Restart',
        'step1-label': 'Evaluate Leader',
        'step2-label': 'Explore Approach',
        'step3-label': 'Share Analysis',
        'achievements-title': 'Regional Leader\'s Performance (2023-Date)',
        'rate-achievements': 'Evaluate the Leader\'s Performance',
        'rated-label': 'Evaluated',
        'avg-label': 'Avg Assessment',
        'choose-party-title': 'Explore Different Leadership Approaches',
        'apc-slogan': 'Forward-Looking Governance',
        'pdp-slogan': 'Community-Focused Approach',
        'nnpp-slogan': 'Service-Based Governance',
        'lp-slogan': 'Grassroots Perspective',
        'leader-label': 'Leader You\'re Assessing:',
        'opinion-title': 'Your Analysis of The Selected Leader (5 key points about performance and capacity)',
        'point1-label': 'First point about performance and capacity',
        'point2-label': 'Second point about performance and capacity',
        'point3-label': 'Third point about performance and capacity',
        'point4-label': 'Fourth point about performance and capacity',
        'point5-label': 'Fifth point about performance and capacity',
        'submit-button': 'SUBMIT ASSESSMENT',
        
        // Results Screen
        'results-title': 'Your Assessment Results',
        'average-score-label': 'Average Assessment Score',
        'result-state-label': 'State',
        'result-lga-label': 'LGA',
        'result-approach-label': 'Approach',
        'result-leader-label': 'Leader',
        'breakdown-title': 'Analysis Breakdown',
        'breakdown-leader-label': 'Leader Assessment Score:',
        'breakdown-approach-label': 'Approach Alignment:',
        'breakdown-opinion-label': 'Analysis Points Bonus:',
        'breakdown-total-label': 'Total Assessment Score:',
        'export-title': 'Export Your Results',
        'export-text': 'Download your results for personal records or analysis',
        'export-personal-label': 'Personal Results',
        'export-all-label': 'All Data (CSV)',
        'export-aggregate-label': 'Aggregate Stats',
        'share-title': 'üéâ Share Your Analysis!',
        'share-text': 'Share your leadership assessment insights with friends and family',
        'copy-label': 'Copy',
        'play-again-label': 'Assess Again',
        
        // Leaderboard
        'leaderboard-title': 'Top Performers Assessment Board',
        'leaderboard-subtitle': 'See how your results compare with other participants',
        'rank-header': 'Rank',
        'player-header': 'Participant',
        'score-header': 'Score',
        'approach-header': 'Approach',
        'state-header': 'State',
        'date-header': 'Date',
        
        // Aggregate Results
        'aggregate-title': 'Assessment Results & Statistics',
        'aggregate-subtitle': 'Overall statistics from all assessments',
        'total-participants-label': 'Total Participants',
        'avg-score-label': 'Average Score',
        'top-score-label': 'Top Score',
        'states-count-label': 'States Represented',
        'approach-distribution-title': 'Approach Distribution',
        'state-distribution-title': 'Top States',
        'analysis-title': 'Detailed Analysis',
        
        // Final Results
        'final-results-title': 'Final Assessment Results',
        
        // Rating Options
        'rating-excellent': 'Excellent',
        'rating-verygood': 'Very Good',
        'rating-good': 'Good',
        'rating-fair': 'Fair',
        'rating-fail': 'Fail',
        
        // Alignment Levels
        'neutral': 'ASSESSING',
        'low-support': 'BASIC ALIGNMENT',
        'weak-support': 'LIMITED ALIGNMENT',
        'moderate-support': 'MODERATE ALIGNMENT',
        'good-support': 'STRONG ALIGNMENT',
        'strong-support': 'EXCELLENT ALIGNMENT'
    },
    ha: {
        // Welcome Screen
        'welcome-title': 'Wasan Tantance Jagoranci na Arewa',
        'simulation-period': 'üìÖ Lokacin Tantancewa',
        'participants-label': 'Mahalarta',
        'states-label': 'Jihohi',
        'days-label': 'Ranaku Saura',
        'time-remaining-label': '‚è∞ Lokaci Ya Rage:',
        'disclaimer-title': 'üìö Garga…ói Na Dalilin Ilimi',
        'disclaimer-text': 'An ∆ôir∆ôiri wannan wasan tantance jagoranci ne don ilmantarwa da koyo kawai. An ∆ôera shi don taimaka wa masu amfani fahimtar hanyoyin gudanarwa daban-daban da halayen jagoranci a Arewa. Ba shi da ala∆ôa da kowace ∆ôungiyar siyasa, kuma ba a ∆ôir∆ôira shi don rinjaya ra\'ayoyi ko inganta kowace hanya ta musamman.',
        'state-label': 'Jihar Asali:',
        'lga-label': 'Yankin Karamar Hukuma:',
        'age-label': 'Na tabbatar da cewa ina da shekaru 18 ko fiye',
        'rules-label': 'Na yarda in bi ka\'idoji da jagororin',
        'start-button': 'Fara Tantancewa',
        
        // Game Screen
        'game-title': 'Wasan Tantance Jagoranci na Arewa',
        'game-subtitle': 'Tantance Halayen Jagoranci & Bincika Hanyoyi',
        'restart-button': 'Sake Farawa',
        'step1-label': 'Tantance Jagora',
        'step2-label': 'Bincika Hanya',
        'step3-label': 'Raba Bincike',
        'achievements-title': 'Ayyukan Jagoran Yanki (2023-Zamani)',
        'rate-achievements': 'Tantance Ayyukan Jagora',
        'rated-label': 'An Tantance',
        'avg-label': 'Matsakaicin Tantancewa',
        'choose-party-title': 'Bincika Hanyoyin Jagoranci Daban-daban',
        'apc-slogan': 'Gudanarwar Kallon Gaba',
        'pdp-slogan': 'Hanyar Mai Da Hankan Jama\'a',
        'nnpp-slogan': 'Gudanarwa Ta Bauta',
        'lp-slogan': 'Hangen Nesa Na Tushe',
        'leader-label': 'Jagoran Da Kuke Tantancewa:',
        'opinion-title': 'Binciken ku Game da Jagoran Da Kuka Za…ìa (Muhimman batutuwa 5 game da ayyuka da ∆ôarfi)',
        'point1-label': 'Batun farko game da ayyuka da ∆ôarfi',
        'point2-label': 'Batun na biyu game da ayyuka da ∆ôarfi',
        'point3-label': 'Batun na uku game da ayyuka da ∆ôarfi',
        'point4-label': 'Batun na hu…óu game da ayyuka da ∆ôarfi',
        'point5-label': 'Batun na biyar game da ayyuka da ∆ôarfi',
        'submit-button': 'AIKA TANTANCEWA',
        
        // Results Screen
        'results-title': 'Sakamakon Tantancewar Ku',
        'average-score-label': 'Matsakaicin Makin Tantancewa',
        'result-state-label': 'Jiha',
        'result-lga-label': 'Karamar Hukuma',
        'result-approach-label': 'Hanya',
        'result-leader-label': 'Jagora',
        'breakdown-title': 'Bita na Bincike',
        'breakdown-leader-label': 'Makin Tantance Jagora:',
        'breakdown-approach-label': 'Daidaiton Hanya:',
        'breakdown-opinion-label': '∆òarin Maki Bincike:',
        'breakdown-total-label': 'Jimlar Makin Tantancewa:',
        'export-title': 'Fitar da Sakamakon Ku',
        'export-text': 'Zazzage sakamakon ku don rikodi na sirri ko bincike',
        'export-personal-label': 'Sakamakon Sirri',
        'export-all-label': 'Duk Bayanai (CSV)',
        'export-aggregate-label': 'Kididdiga Gaba…óaya',
        'share-title': 'üéâ Raba Binciken Ku!',
        'share-text': 'Raba fahimtar ku na tantance jagoranci tare da abokai da dangi',
        'copy-label': 'Kwafi',
        'play-again-label': 'Sake Tantancewa',
        
        // Leaderboard
        'leaderboard-title': 'Jerin Masu ∆òwarewa Na Tantancewa',
        'leaderboard-subtitle': 'Duba yadda sakamakon ku ya kwatanta da sauran mahalarta',
        'rank-header': 'Matsayi',
        'player-header': 'Mahalarta',
        'score-header': 'Maki',
        'approach-header': 'Hanya',
        'state-header': 'Jiha',
        'date-header': 'Kwanan Wata',
        
        // Aggregate Results
        'aggregate-title': 'Sakamako Gaba…óaya & Kididdiga Na Tantancewa',
        'aggregate-subtitle': 'Kididdiga gaba…óaya daga duk tantancewa',
        'total-participants-label': 'Jimlar Mahalarta',
        'avg-score-label': 'Matsakaicin Maki',
        'top-score-label': 'Mafi Girman Maki',
        'states-count-label': 'Jihohin da Aka Wakilta',
        'approach-distribution-title': 'Rarraba Hanyoyi',
        'state-distribution-title': 'Jihohin Mafi Girma',
        'analysis-title': 'Cikakken Bincike',
        
        // Final Results
        'final-results-title': 'Sakamako Gaba…óaya na ∆òarshe Na Tantancewa',
        
        // Rating Options
        'rating-excellent': 'Kyakkyawa',
        'rating-verygood': 'Mai Kyau Sosai',
        'rating-good': 'Mai Kyau',
        'rating-fair': 'Matsakaici',
        'rating-fail': 'Kasawa',
        
        // Alignment Levels
        'neutral': 'ANA TANTANCEWA',
        'low-support': 'DAIDAITA NA ASALI',
        'weak-support': 'DAIDAITA MARA ∆òARFI',
        'moderate-support': 'DAIDAITA NA MATSAKAICI',
        'good-support': 'DAIDAITA MAI ∆òARFI',
        'strong-support': 'DAIDAITA MAI GIRMA'
    }
};

// ========== LGA DATA ==========
const lgaData = {
    kano: ["Ajingi", "Albasu", "Bagwai", "Bebeji", "Bichi", "Bunkure", "Dala", "Dambatta", "Dawakin Kudu", "Dawakin Tofa", "Doguwa", "Fagge", "Gabasawa", "Garko", "Garun Mallam", "Gaya", "Gezawa", "Gwale", "Gwarzo", "Kabo", "Kano Municipal", "Karaye", "Kibiya", "Kiru", "Kumbotso", "Kunchi", "Kura", "Madobi", "Makoda", "Minjibir", "Nasarawa", "Rano", "Rimin Gado", "Rogo", "Shanono", "Sumaila", "Takai", "Tarauni", "Tofa", "Tsanyawa", "Tudun Wada", "Ungogo", "Warawa", "Wudil"],
    kaduna: ["Birnin Gwari", "Chikun", "Giwa", "Igabi", "Ikara", "Jaba", "Jema'a", "Kachia", "Kaduna North", "Kaduna South", "Kagarko", "Kajuru", "Kaura", "Kauru", "Kubau", "Kudan", "Lere", "Makarfi", "Sabon Gari", "Sanga", "Soba", "Zangon Kataf", "Zaria"],
    katsina: ["Bakori", "Batagarawa", "Batsari", "Baure", "Bindawa", "Charanchi", "Dan Musa", "Dandume", "Danja", "Daura", "Dutsi", "Dutsin Ma", "Faskari", "Funtua", "Ingawa", "Jibia", "Kafur", "Kaita", "Kankara", "Kankia", "Katsina", "Kurfi", "Kusada", "Mai'Adua", "Malumfashi", "Mani", "Mashi", "Matazu", "Musawa", "Rimi", "Sabuwa", "Safana", "Sandamu", "Zango"],
    bauchi: ["Alkaleri", "Bauchi", "Bogoro", "Damban", "Darazo", "Dass", "Gamawa", "Ganjuwa", "Giade", "Itas/Gadau", "Jama'are", "Katagum", "Kirfi", "Misau", "Ningi", "Shira", "Tafawa Balewa", "Toro", "Warji", "Zaki"],
    borno: ["Abadam", "Askira/Uba", "Bama", "Bayo", "Biu", "Chibok", "Damboa", "Dikwa", "Gubio", "Guzamala", "Gwoza", "Hawul", "Jere", "Kaga", "Kala/Balge", "Konduga", "Kukawa", "Kwaya Kusar", "Mafa", "Magumeri", "Maiduguri", "Marte", "Mobbar", "Monguno", "Ngala", "Nganzai", "Shani"],
    jigawa: ["Auyo", "Babura", "Biriniwa", "Birnin Kudu", "Buji", "Dutse", "Gagarawa", "Garki", "Gumel", "Guri", "Gwaram", "Gwiwa", "Hadejia", "Jahun", "Kafin Hausa", "Kaugama", "Kazaure", "Kiri Kasama", "Kiyawa", "Maigatari", "Malam Madori", "Miga", "Ringim", "Roni", "Sule Tankarkar", "Taura", "Yankwashi"],
    kebbi: ["Aleiro", "Arewa Dandi", "Argungu", "Augie", "Bagudo", "Birnin Kebbi", "Bunza", "Dandi", "Fakai", "Gwandu", "Jega", "Kalgo", "Koko/Besse", "Maiyama", "Ngaski", "Sakaba", "Shanga", "Suru", "Wasagu/Danko", "Yauri", "Zuru"],
    sokoto: ["Binji", "Bodinga", "Dange Shuni", "Gada", "Goronyo", "Gudu", "Gwadabawa", "Illela", "Isa", "Kebbe", "Kware", "Rabah", "Sabon Birni", "Shagari", "Silame", "Sokoto North", "Sokoto South", "Tambuwal", "Tangaza", "Tureta", "Wamako", "Wurno", "Yabo"],
    zamfara: ["Anka", "Bakura", "Birnin Magaji/Kiyaw", "Bukkuyum", "Bungudu", "Gummi", "Gusau", "Kaura Namoda", "Maradun", "Maru", "Shinkafi", "Talata Mafara", "Chafe", "Zurmi"],
    gombe: ["Akko", "Balanga", "Billiri", "Dukku", "Funakaye", "Gombe", "Kaltungo", "Kwami", "Nafada", "Shongom", "Yamaltu/Deba"],
    adamawa: ["Demsa", "Fufore", "Ganye", "Girei", "Gombi", "Guyuk", "Hong", "Jada", "Lamurde", "Madagali", "Maiha", "Mayo Belwa", "Michika", "Mubi North", "Mubi South", "Numan", "Shelleng", "Song", "Toungo", "Yola North", "Yola South"],
    yobe: ["Bade", "Bursari", "Damaturu", "Fika", "Fune", "Geidam", "Gujba", "Gulani", "Jakusko", "Karasuwa", "Machina", "Nangere", "Nguru", "Potiskum", "Tarmuwa", "Yunusari", "Yusufari"],
    taraba: ["Ardo Kola", "Bali", "Donga", "Gashaka", "Gassol", "Ibi", "Jalingo", "Karim Lamido", "Kumi", "Lau", "Sardauna", "Takum", "Ussa", "Wukari", "Yorro", "Zing"],
    plateau: ["Barkin Ladi", "Bassa", "Bokkos", "Jos East", "Jos North", "Jos South", "Kanam", "Kanke", "Langtang North", "Langtang South", "Mangu", "Mikang", "Pankshin", "Qua'an Pan", "Riyom", "Shendam", "Wase"],
    niger: ["Agaie", "Agwara", "Bida", "Borgu", "Bosso", "Chanchaga", "Edati", "Gbako", "Gurara", "Katcha", "Kontagora", "Lapai", "Lavun", "Magama", "Mariga", "Mashegu", "Mokwa", "Moya", "Paikoro", "Rafi", "Rijau", "Shiroro", "Suleja", "Tafa", "Wushishi"],
    benue: ["Ado", "Agatu", "Apa", "Buruku", "Gboko", "Guma", "Gwer East", "Gwer West", "Katsina-Ala", "Konshisha", "Kwande", "Logo", "Makurdi", "Obi", "Ogbadibo", "Ohimini", "Oju", "Okpokwu", "Oturkpo", "Tarka", "Ukum", "Ushongo", "Vandeikya"],
    kogi: ["Adavi", "Ajaokuta", "Ankpa", "Bassa", "Dekina", "Ibaji", "Idah", "Igalamela Odolu", "Ijumu", "Kabba/Bunu", "Kogi", "Lokoja", "Mopa Muro", "Ofu", "Ogori/Magongo", "Okehi", "Okene", "Olamaboro", "Omala", "Yagba East", "Yagba West"],
    kwara: ["Asa", "Baruten", "Edu", "Ekiti", "Ifelodun", "Ilorin East", "Ilorin South", "Ilorin West", "Irepodun", "Isin", "Kaiama", "Moro", "Offa", "Oke Ero", "Oyun", "Pategi"],
    nassarawa: ["Akwanga", "Awe", "Doma", "Karu", "Keana", "Keffi", "Kokona", "Lafia", "Nasarawa", "Nasarawa Egon", "Obi", "Toto", "Wamba"]
};

// ========== LEADER DATA ==========
const leadersData = {
    kano: {
        name: "ABBA KABIR YUSUF",
        approach: "NNPP",
        image: "https://iili.io/fuUCC3G.jpg",
        achievements: [
            "Education infrastructure development",
            "Healthcare facility improvements", 
            "Road construction projects",
            "Youth empowerment programs",
            "Agricultural support initiatives"
        ]
    },
    kaduna: {
        name: "UBA SANI", 
        approach: "APC",
        image: "https://iili.io/fuUCwFa.png",
        achievements: [
            "Security enhancement programs",
            "Educational reforms",
            "Infrastructure development",
            "Economic empowerment",
            "Social welfare programs"
        ]
    },
    katsina: {
        name: "DAUDA LAWAL",
        approach: "PDP",
        image: "https://iili.io/fuUCa3b.jpg",
        achievements: [
            "Security initiatives",
            "Educational development",
            "Healthcare services",
            "Infrastructure projects",
            "Economic empowerment"
        ]
    },
    bauchi: {
        name: "BALA MOHAMMED",
        approach: "PDP",
        image: "https://iili.io/fuUCIu2.jpg",
        achievements: [
            "Infrastructure development",
            "Educational advancement",
            "Healthcare improvements",
            "Economic empowerment",
            "Security initiatives"
        ]
    },
    borno: {
        name: "BABAGANA UMARA ZULUM",
        approach: "APC",
        image: "https://iili.io/fuUCnaf.jpg",
        achievements: [
            "Security and peacebuilding",
            "Reconstruction projects",
            "Educational development",
            "Healthcare services",
            "Economic empowerment"
        ]
    },
    jigawa: {
        name: "MALLAM UMAR NAMADI",
        approach: "APC",
        image: "https://iili.io/fuUCRn9.jpg",
        achievements: [
            "Economic development initiatives",
            "Educational advancement",
            "Healthcare improvements",
            "Infrastructure projects",
            "Agricultural support"
        ]
    },
    kebbi: {
        name: "NASIR IDRIS",
        approach: "APC",
        image: "https://iili.io/fuUCl8x.jpg",
        achievements: [
            "Agricultural development",
            "Educational improvements",
            "Healthcare services",
            "Infrastructure projects",
            "Economic empowerment"
        ]
    },
    sokoto: {
        name: "AHMED ALIYU",
        approach: "APC",
        image: "https://iili.io/fuUCGwB.jpg",
        achievements: [
            "Educational development",
            "Healthcare improvements",
            "Infrastructure projects",
            "Economic empowerment",
            "Security initiatives"
        ]
    },
    zamfara: {
        name: "DAUDA LAWAL",
        approach: "PDP",
        image: "https://iili.io/fuUC8wN.jpg",
        achievements: [
            "Security initiatives",
            "Educational development",
            "Healthcare services",
            "Infrastructure projects",
            "Economic empowerment"
        ]
    },
    gombe: {
        name: "MUHAMMED INUWA YAHYA",
        approach: "APC",
        image: "https://iili.io/fuUC5Ge.png",
        achievements: [
            "Urban development projects",
            "Educational reforms",
            "Healthcare services",
            "Economic empowerment",
            "Security improvements"
        ]
    },
    adamawa: {
        name: "AHMADU UMARU FINTIRI",
        approach: "PDP",
        image: "https://iili.io/fuUCXMF.jpg",
        achievements: [
            "Educational reforms",
            "Infrastructure development",
            "Healthcare services",
            "Economic empowerment",
            "Security improvements"
        ]
    },
    yobe: {
        name: "MAIMALA BUNI",
        approach: "APC",
        image: "https://iili.io/fuUCvup.png",
        achievements: [
            "Reconstruction projects",
            "Educational development",
            "Healthcare services",
            "Economic empowerment",
            "Agricultural support"
        ]
    },
    taraba: {
        name: "AGBU KEFAS",
        approach: "PDP",
        image: "https://iili.io/fuUCWn1.jpg",
        achievements: [
            "Educational reforms",
            "Healthcare improvements",
            "Infrastructure projects",
            "Economic empowerment",
            "Agricultural development"
        ]
    },
    plateau: {
        name: "CALEB MUTFWANG",
        approach: "PDP",
        image: "https://iili.io/fuUCEuV.jpg",
        achievements: [
            "Peace and security",
            "Infrastructure development",
            "Educational reforms",
            "Healthcare services",
            "Economic empowerment"
        ]
    },
    niger: {
        name: "UMAR MOHAMMED BAGO",
        approach: "APC",
        image: "https://iili.io/fuUC0yQ.jpg",
        achievements: [
            "Agricultural development",
            "Infrastructure projects",
            "Educational reforms",
            "Healthcare services",
            "Economic empowerment"
        ]
    },
    benue: {
        name: "HYACINTH ALIA",
        approach: "APC",
        image: "https://iili.io/fuUCuZ7.jpg",
        achievements: [
            "Agricultural development",
            "Infrastructure projects",
            "Educational reforms",
            "Healthcare services",
            "Economic empowerment"
        ]
    },
    kogi: {
        name: "AHMED USMAN ODODO",
        approach: "APC",
        image: "https://iili.io/fuUCcaj.jpg",
        achievements: [
            "Economic development",
            "Infrastructure projects",
            "Educational reforms",
            "Healthcare services",
            "Security initiatives"
        ]
    },
    kwara: {
        name: "ABDULRAHMAN ABDULRAZAQ",
        approach: "APC",
        image: "https://iili.io/fuUCov4.jpg",
        achievements: [
            "Educational reforms",
            "Healthcare improvements",
            "Infrastructure projects",
            "Economic empowerment",
            "Agricultural development"
        ]
    },
    nassarawa: {
        name: "ABDULLAHI SULE",
        approach: "APC",
        image: "https://iili.io/fuUCxyl.png",
        achievements: [
            "Economic development",
            "Infrastructure projects",
            "Educational reforms",
            "Healthcare improvements",
            "Agricultural support"
        ]
    }
};

// ========== GAME STATE ==========
const gameState = {
    state: '',
    lga: '',
    playerId: '',
    selectedApproach: '',
    leaderName: '',
    leaderRatings: {},
    assessmentScore: 0,
    gameCompleted: false,
    language: 'en',
    opinionPoints: ['', '', '', '', ''],
    leaderScore: 0,
    approachBonus: 0,
    opinionBonus: 0
};

// ========== TEXT SANITIZATION ==========
function sanitizeGameText() {
    // Update main titles
    const titleElements = [
        'welcome-title', 'game-title', 'results-title',
        'leaderboard-title', 'aggregate-title', 'final-results-title',
        'achievements-title', 'choose-party-title', 'opinion-title',
        'share-title', 'export-title', 'breakdown-title',
        'analysis-title', 'disclaimer-title'
    ];
    
    titleElements.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            let text = element.textContent;
            Object.entries(GAME_CONFIG.terminology.replace).forEach(([oldTerm, newTerm]) => {
                const regex = new RegExp(oldTerm, 'gi');
                text = text.replace(regex, newTerm);
            });
            element.textContent = text;
        }
    });
}

// ========== SIMULATION MANAGEMENT ==========
function initializeSimulationTimer() {
    let startTime = localStorage.getItem('assessmentStartTime');
    if (!startTime) {
        startTime = new Date().toISOString();
        localStorage.setItem('assessmentStartTime', startTime);
        simulationStartTime = new Date(startTime);
    } else {
        simulationStartTime = new Date(startTime);
    }
    
    simulationEndTime = new Date(simulationStartTime);
    simulationEndTime.setDate(simulationEndTime.getDate() + 30);
    
    updateCountdownTimer();
    
    if (countdownInterval) {
        clearInterval(countdownInterval);
    }
    countdownInterval = setInterval(updateCountdownTimer, 1000);
    
    checkSimulationStatus();
}

function updateCountdownTimer() {
    const now = new Date();
    let timeRemaining;
    
    if (simulationEndTime) {
        timeRemaining = simulationEndTime - now;
    } else {
        const defaultEnd = new Date();
        defaultEnd.setDate(defaultEnd.getDate() + 30);
        timeRemaining = defaultEnd - now;
    }
    
    if (timeRemaining <= 0) {
        isSimulationEnded = true;
        const endedText = gameState.language === 'en' ? 'Assessment Ended' : 'Tantancewa Ya ∆òare';
        document.getElementById('countdown-timer').textContent = endedText;
        document.getElementById('final-countdown').textContent = 'ASSESSMENT COMPLETE';
        document.getElementById('days-remaining').textContent = '0';
        
        if (document.getElementById('final-results').classList.contains('active')) {
            updateFinalResults();
        }
        
        clearInterval(countdownInterval);
        return;
    }
    
    const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
    const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);
    
    const timerDisplay = `${days}d ${hours.toString().padStart(2, '0')}h ${minutes.toString().padStart(2, '0')}m ${seconds.toString().padStart(2, '0')}s`;
    document.getElementById('countdown-timer').textContent = timerDisplay;
    document.getElementById('days-remaining').textContent = days;
}

function checkSimulationStatus() {
    const now = new Date();
    if (simulationEndTime && now >= simulationEndTime) {
        isSimulationEnded = true;
        showNotification(gameState.language === 'en' 
            ? 'Assessment has ended. View final results.' 
            : 'Tantancewa ya ∆ôare. Duba sakamako na ∆ôarshe.');
    }
}

// ========== LANGUAGE FUNCTIONS ==========
function switchLanguage(lang) {
    gameState.language = lang;
    
    updateLanguageUI();
    
    document.body.style.direction = 'ltr';
    
    document.getElementById('lang-en').style.background = lang === 'en' ? 'var(--secondary-color)' : 'rgba(255, 255, 255, 0.9)';
    document.getElementById('lang-en').style.color = lang === 'en' ? 'white' : 'var(--primary-color)';
    document.getElementById('lang-ha').style.background = lang === 'ha' ? 'var(--secondary-color)' : 'rgba(255, 255, 255, 0.9)';
    document.getElementById('lang-ha').style.color = lang === 'ha' ? 'white' : 'var(--primary-color)';
    
    if (gameState.state && leadersData[gameState.state]) {
        loadLeaderData(gameState.state);
    }
    
    showNotification(gameState.language === 'en' ? 'Language changed to English' : 'An canza harshe zuwa Hausa');
}

function updateLanguageUI() {
    const lang = gameState.language;
    const t = translations[lang];
    
    for (const key in t) {
        const element = document.getElementById(key);
        if (element) {
            if (key === 'welcome-title' || key === 'game-title') {
                element.textContent = t[key];
            } else if (key.includes('label') || key.includes('title') || key.includes('button') || 
                      key.includes('text') || key.includes('subtitle') || key.includes('slogan')) {
                element.textContent = t[key];
            }
        }
    }
    
    const stateSelect = document.getElementById('state');
    if (stateSelect && stateSelect.firstChild) {
        stateSelect.firstChild.textContent = lang === 'en' ? '-- Select State --' : '-- Za…ìi Jiha --';
    }
    
    const lgaSelect = document.getElementById('lga');
    if (lgaSelect && lgaSelect.firstChild) {
        lgaSelect.firstChild.textContent = lang === 'en' ? '-- Select State First --' : '-- Da Farko Za…ìi Jiha --';
    }
    
    for (let i = 1; i <= 5; i++) {
        const input = document.getElementById(`opinion${i}`);
        if (input) {
            input.placeholder = lang === 'en' ? `Enter your ${getOrdinal(i)} point` : `Shigar da batun ku na ${i}`;
        }
    }
    
    updateAlignmentPreview();
}

function getOrdinal(n) {
    const s = ["first", "second", "third", "fourth", "fifth"];
    return s[n-1] || n + "th";
}

// ========== INITIALIZATION ==========
window.addEventListener('DOMContentLoaded', function() {
    console.log('Game initializing...');
    
    // Apply text sanitization
    sanitizeGameText();
    
    const stateSelect = document.getElementById('state');
    if (stateSelect) {
        stateSelect.addEventListener('change', function() {
            console.log('State selected:', this.value);
            populateLGADropdown(this.value);
        });
    }
    
    const savedLang = localStorage.getItem('arewaLeadershipLanguage') || 'en';
    switchLanguage(savedLang);
    
    initializeSimulationTimer();
    
    updateParticipantStats();
    
    for (let i = 1; i <= 5; i++) {
        const input = document.getElementById(`opinion${i}`);
        if (input) {
            input.addEventListener('input', function() {
                gameState.opinionPoints[i-1] = this.value;
            });
        }
    }
    
    console.log('Game initialized successfully');
});

// ========== LGA FUNCTIONS ==========
function populateLGADropdown(state) {
    console.log('populateLGADropdown called with state:', state);
    
    const lgaSelect = document.getElementById('lga');
    const lgaCount = document.getElementById('lga-count');
    
    if (!lgaSelect || !lgaCount) {
        console.error('LGA elements not found');
        return;
    }
    
    const placeholder = gameState.language === 'en' ? '-- Select LGA --' : '-- Za…ìi Karamar Hukuma --';
    lgaSelect.innerHTML = `<option value="">${placeholder}</option>`;
    lgaCount.textContent = '';
    
    if (state && lgaData[state]) {
        console.log('Found LGAs for state:', state, 'Count:', lgaData[state].length);
        
        lgaData[state].forEach(lga => {
            const option = document.createElement('option');
            option.value = lga.toLowerCase().replace(/\s+/g, '_');
            option.textContent = lga;
            lgaSelect.appendChild(option);
        });
        
        const count = lgaData[state].length;
        const label = gameState.language === 'en' ? 'LGAs available' : 'Karamin Hukumomi da ake da su';
        lgaCount.textContent = `${count} ${label}`;
        console.log('LGA count updated:', lgaCount.textContent);
        
    } else {
        console.log('No LGAs found for state:', state);
        lgaCount.textContent = '';
    }
}

// ========== NOTIFICATION SYSTEM ==========
function showNotification(message, isError = false) {
    const container = document.getElementById('notification-container');
    if (!container) return;
    
    const notification = document.createElement('div');
    notification.className = 'notification' + (isError ? ' error' : ' success');
    notification.textContent = message;
    
    container.appendChild(notification);
    
    setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 300);
    }, 3000);
}

// ========== GAME FLOW ==========
function startGame() {
    console.log('startGame function called');
    
    const stateSelect = document.getElementById('state');
    const lgaSelect = document.getElementById('lga');
    const ageCheckbox = document.getElementById('age-verification');
    const rulesCheckbox = document.getElementById('rules-agreement');
    
    if (!stateSelect || !lgaSelect || !ageCheckbox || !rulesCheckbox) {
        console.error('Required form elements not found');
        showNotification('Form elements missing. Please refresh the page.', true);
        return;
    }
    
    const state = stateSelect.value;
    const lga = lgaSelect.value;
    const ageVerified = ageCheckbox.checked;
    const rulesAgreed = rulesCheckbox.checked;
    
    console.log('Form values:', { state, lga, ageVerified, rulesAgreed });
    
    if (!state) {
        showNotification(gameState.language === 'en' ? 'Please select your state' : 'Da fatan za…ìi jiharku', true);
        return;
    }
    
    if (!lga || lga === "") {
        showNotification(gameState.language === 'en' ? 'Please select your Local Government Area' : 'Da fatan za…ìi yankin Karamar Hukumarku', true);
        return;
    }
    
    if (!ageVerified) {
        showNotification(gameState.language === 'en' ? 'Please confirm you are 18 years or older' : 'Da fatan tabbatar da cewa kuna da shekaru 18 ko fiye', true);
        return;
    }
    
    if (!rulesAgreed) {
        showNotification(gameState.language === 'en' ? 'Please agree to the rules and guidelines' : 'Da fatan yarda da ka\'idoji da jagororin', true);
        return;
    }
    
    gameState.state = state;
    gameState.lga = lga;
    gameState.playerId = 'participant_' + Date.now().toString().slice(-8);
    
    console.log('Game state stored:', gameState);
    
    localStorage.setItem('arewaLeadershipLanguage', gameState.language);
    
    document.getElementById('welcome-screen').classList.add('hidden');
    document.getElementById('main-game').classList.remove('hidden');
    
    document.getElementById('player-id-display').textContent = (gameState.language === 'en' ? 'Participant: ' : 'Mahalarta: ') + gameState.playerId;
    
    loadLeaderData(state);
    
    updateProgressIndicator(1);
    
    updateApproachCounts();
    
    showNotification(gameState.language === 'en' ? 'Assessment started successfully!' : 'An fara tantancewa cikin nasara!');
}

function loadLeaderData(state) {
    const leader = leadersData[state];
    if (!leader) {
        showNotification(gameState.language === 'en' ? 'No leader data available for this state' : 'Babu bayanan jagora don wannan jihar', true);
        return;
    }
    
    const leaderInfo = document.getElementById('leader-info');
    if (leaderInfo) {
        const lang = gameState.language;
        leaderInfo.innerHTML = `
            <div class="leader-info">
                <div class="leader-image-container">
                    <img src="${leader.image}" alt="${leader.name}" class="leader-img" 
                         onerror="this.src='https://via.placeholder.com/180x180?text=Leader'">
                </div>
                <h3 style="color: var(--primary-color); margin-bottom: 5px;">${leader.name}</h3>
                <div class="approach-badge approach-${leader.approach.toLowerCase()}" 
                     style="display: inline-block; padding: 5px 15px; border-radius: 20px; margin-bottom: 10px;">
                    ${leader.approach}
                </div>
                <p style="color: #666; font-size: 0.9rem;">${lang === 'en' ? 'Current Performance (2023-Present)' : 'Ayyukan Yanzu (2023-Zamani)'}</p>
            </div>
        `;
    }
    
    const achievementList = document.getElementById('achievement-list');
    if (achievementList) {
        achievementList.innerHTML = '';
        
        const ratingLabels = gameState.language === 'en' 
            ? ['Excellent', 'Very Good', 'Good', 'Fair', 'Fail']
            : ['Kyakkyawa', 'Mai Kyau Sosai', 'Mai Kyau', 'Matsakaici', 'Kasawa'];
        
        leader.achievements.forEach((achievement, index) => {
            const achievementDiv = document.createElement('div');
            achievementDiv.className = 'achievement-item';
            achievementDiv.innerHTML = `
                <div class="achievement-title">${achievement}</div>
                <div class="rating-options">
                    ${[5, 4, 3, 2, 1].map((rating, i) => `
                        <div class="rating-option" onclick="rateAchievement(${index}, ${rating}, this)">
                            ${ratingLabels[i]}
                        </div>
                    `).join('')}
                </div>
            `;
            achievementList.appendChild(achievementDiv);
        });
    }
}

function rateAchievement(index, rating, element) {
    const parent = element.parentElement;
    parent.querySelectorAll('.rating-option').forEach(opt => {
        opt.classList.remove('active');
    });
    
    element.classList.add('active');
    
    gameState.leaderRatings[index] = rating;
    
    updateAchievementStats();
    updateAlignmentPreview();
}

function updateAchievementStats() {
    const ratings = Object.values(gameState.leaderRatings);
    if (ratings.length === 0) return;
    
    const ratedCount = ratings.length;
    const avgRating = (ratings.reduce((a, b) => a + b, 0) / ratedCount).toFixed(1);
    
    document.getElementById('rated-count').textContent = ratedCount;
    document.getElementById('avg-rating').textContent = avgRating;
    
    const statsContainer = document.getElementById('achievement-stats');
    if (statsContainer) {
        statsContainer.style.display = 'flex';
    }
}

function updateAlignmentPreview() {
    const ratings = Object.values(gameState.leaderRatings);
    if (ratings.length === 0) {
        document.getElementById('alignment-fill').style.width = '0%';
        document.getElementById('alignment-status').textContent = (gameState.language === 'en' ? 'ASSESSMENT STATUS: 0%' : 'MATSAYIN TANTANCEWA: 0%');
        document.getElementById('alignment-level').textContent = gameState.language === 'en' ? 'ASSESSING' : 'ANA TANTANCEWA';
        return;
    }
    
    const avgRating = ratings.reduce((a, b) => a + b, 0) / ratings.length;
    let previewScore = 50 + (avgRating - 2.5) * 8;
    previewScore = Math.max(0, Math.min(100, previewScore));
    
    document.getElementById('alignment-fill').style.width = previewScore + '%';
    const statusText = gameState.language === 'en' ? 'ASSESSMENT STATUS: ' : 'MATSAYIN TANTANCEWA: ';
    document.getElementById('alignment-status').textContent = statusText + Math.round(previewScore) + '%';
    
    let level = '';
    if (previewScore >= 80) level = gameState.language === 'en' ? 'EXCELLENT ALIGNMENT' : 'DAIDAITA MAI GIRMA';
    else if (previewScore >= 60) level = gameState.language === 'en' ? 'STRONG ALIGNMENT' : 'DAIDAITA MAI ∆òARFI';
    else if (previewScore >= 40) level = gameState.language === 'en' ? 'MODERATE ALIGNMENT' : 'DAIDAITA NA MATSAKAICI';
    else if (previewScore >= 20) level = gameState.language === 'en' ? 'LIMITED ALIGNMENT' : 'DAIDAITA MARA ∆òARFI';
    else level = gameState.language === 'en' ? 'BASIC ALIGNMENT' : 'DAIDAITA NA ASALI';
    
    document.getElementById('alignment-level').textContent = level;
}

function selectApproach(element) {
    document.querySelectorAll('.approach-card').forEach(card => {
        card.classList.remove('selected');
    });
    
    element.classList.add('selected');
    gameState.selectedApproach = element.getAttribute('data-approach');
    
    document.getElementById('opinion-section').style.display = 'block';
    
    updateProgressIndicator(2);
}

function updateProgressIndicator(step) {
    const steps = document.querySelectorAll('.progress-step');
    steps.forEach((stepElement, index) => {
        if (index + 1 <= step) {
            stepElement.classList.add('active');
            stepElement.classList.add('completed');
        } else {
            stepElement.classList.remove('active');
            stepElement.classList.remove('completed');
        }
    });
}

function submitGame() {
    const ratedAchievements = Object.keys(gameState.leaderRatings).length;
    if (ratedAchievements === 0) {
        showNotification(gameState.language === 'en' 
            ? 'Please evaluate at least one leader achievement' 
            : 'Da fatan tantance a∆ôalla nasara …óaya na jagora', true);
        return;
    }
    
    if (!gameState.selectedApproach) {
        showNotification(gameState.language === 'en' 
            ? 'Please select a leadership approach' 
            : 'Da fatan za…ìi hanyar jagoranci', true);
        return;
    }
    
    const leaderInput = document.getElementById('leader-name');
    const leaderName = leaderInput ? leaderInput.value.trim() : '';
    if (!leaderName || leaderName.length < 2) {
        showNotification(gameState.language === 'en' 
            ? 'Please enter a valid leader name (minimum 2 characters)' 
            : 'Da fatan shigar da sunan jagora mai inganci (a∆ôalla haruffa 2)', true);
        return;
    }
    gameState.leaderName = leaderName;
    
    let allOpinionsEmpty = true;
    for (let i = 1; i <= 5; i++) {
        const input = document.getElementById(`opinion${i}`);
        if (input && input.value.trim().length > 0) {
            allOpinionsEmpty = false;
            break;
        }
    }
    
    if (allOpinionsEmpty) {
        showNotification(gameState.language === 'en' 
            ? 'Please provide at least one analysis point about the leader\'s performance and capacity' 
            : 'Da fatan bayar da a∆ôalla maki …óaya na bincike game da ayyukan jagora da ∆ôarfinsa', true);
        return;
    }
    
    calculateAssessmentScore();
    
    saveGameData();
    
    showResults();
    
    updateProgressIndicator(3);
    
    gameState.gameCompleted = true;
    
    showNotification(gameState.language === 'en' 
        ? 'Thank you! Your assessment has been recorded.' 
        : 'Na gode! An rubuta tantancewarku.');
}

function calculateAssessmentScore() {
    const ratings = Object.values(gameState.leaderRatings);
    let leaderScore = 50;
    if (ratings.length > 0) {
        const avgRating = ratings.reduce((a, b) => a + b, 0) / ratings.length;
        leaderScore = 50 + (avgRating - 2.5) * 8;
        leaderScore = Math.max(0, Math.min(100, leaderScore));
    }
    gameState.leaderScore = Math.round(leaderScore);
    
    const approachPoints = {
        'APC': 8, 'PDP': 8, 'NNPP': 7, 'LP': 6
    };
    gameState.approachBonus = approachPoints[gameState.selectedApproach] || 5;
    
    const opinionCount = gameState.opinionPoints.filter(p => p.trim().length > 0).length;
    gameState.opinionBonus = opinionCount * 2;
    
    let totalScore = leaderScore + gameState.approachBonus + gameState.opinionBonus;
    gameState.assessmentScore = Math.max(0, Math.min(100, Math.round(totalScore)));
}

function saveGameData() {
    let existingGames = [];
    try {
        const gamesJson = localStorage.getItem('arewaLeadershipGames');
        if (gamesJson) {
            existingGames = JSON.parse(gamesJson);
        }
    } catch (e) {
        console.error('Error reading games from localStorage:', e);
        existingGames = [];
    }
    
    const gameRecord = {
        id: gameState.playerId,
        timestamp: new Date().toISOString(),
        state: gameState.state,
        lga: gameState.lga,
        approach: gameState.selectedApproach,
        leaderName: gameState.leaderName,
        opinionPoints: gameState.opinionPoints,
        assessmentScore: gameState.assessmentScore,
        leaderScore: gameState.leaderScore,
        approachBonus: gameState.approachBonus,
        opinionBonus: gameState.opinionBonus,
        language: gameState.language
    };
    
    existingGames.push(gameRecord);
    
    try {
        localStorage.setItem('arewaLeadershipGames', JSON.stringify(existingGames));
        updateParticipantStats();
        updateApproachCounts();
    } catch (e) {
        console.error('Error saving game data:', e);
        showNotification(gameState.language === 'en' 
            ? 'Error saving your data. Please try again.' 
            : 'Kuskuren adana bayananku. Da fatan sake gwadawa.', true);
    }
}

function showResults() {
    document.querySelector('.game-area').style.display = 'none';
    
    const resultsArea = document.getElementById('results-area');
    resultsArea.classList.remove('hidden');
    
    document.getElementById('facebook-community-section').style.display = 'block';
    
    updatePersonalResults();
    
    updateLeaderboard();
    
    updateAggregateResults();
    
    if (isSimulationEnded) {
        updateFinalResults();
    }
}

function updatePersonalResults() {
    document.getElementById('final-score').textContent = gameState.assessmentScore + '%';
    document.getElementById('result-state').textContent = gameState.state.toUpperCase();
    document.getElementById('result-lga').textContent = gameState.lga.replace(/_/g, ' ');
    document.getElementById('result-approach').textContent = gameState.selectedApproach;
    document.getElementById('result-leader').textContent = gameState.leaderName;
    
    document.getElementById('breakdown-leader').textContent = gameState.leaderScore + '%';
    document.getElementById('breakdown-approach').textContent = '+' + gameState.approachBonus + '%';
    document.getElementById('breakdown-opinion').textContent = '+' + gameState.opinionBonus + '%';
    document.getElementById('breakdown-total').textContent = gameState.assessmentScore + '%';
}

function updateLeaderboard() {
    let games = [];
    try {
        const gamesJson = localStorage.getItem('arewaLeadershipGames');
        if (gamesJson) {
            games = JSON.parse(gamesJson);
        }
    } catch (e) {
        console.error('Error reading games:', e);
        games = [];
    }
    
    games.sort((a, b) => b.assessmentScore - a.assessmentScore);
    
    const leaderboardBody = document.getElementById('leaderboard-body');
    leaderboardBody.innerHTML = '';
    
    const topGames = games.slice(0, 20);
    
    topGames.forEach((game, index) => {
        const row = document.createElement('tr');
        const rankClass = `rank-${index + 1}`;
        
        row.innerHTML = `
            <td><span class="rank-badge ${rankClass}">${index + 1}</span></td>
            <td>${game.id.substring(0, 8)}...</td>
            <td><strong>${game.assessmentScore}%</strong></td>
            <td><span class="approach-badge approach-${game.approach ? game.approach.toLowerCase() : 'unknown'}">${game.approach || '-'}</span></td>
            <td>${game.state ? game.state.toUpperCase() : '-'}</td>
            <td>${new Date(game.timestamp).toLocaleDateString()}</td>
        `;
        leaderboardBody.appendChild(row);
    });
    
    if (games.length === 0) {
        leaderboardBody.innerHTML = `
            <tr>
                <td colspan="6" style="text-align: center; padding: 40px;">
                    No results yet. Be the first to submit!
                </td>
            </tr>
        `;
    }
}

function updateAggregateResults() {
    let games = [];
    try {
        const gamesJson = localStorage.getItem('arewaLeadershipGames');
        if (gamesJson) {
            games = JSON.parse(gamesJson);
        }
    } catch (e) {
        console.error('Error reading games:', e);
        games = [];
    }
    
    document.getElementById('total-participants-aggregate').textContent = games.length;
    
    const totalScore = games.reduce((sum, game) => sum + game.assessmentScore, 0);
    const avgScore = games.length > 0 ? Math.round(totalScore / games.length) : 0;
    document.getElementById('avg-score-aggregate').textContent = avgScore + '%';
    
    const topScore = games.length > 0 ? Math.max(...games.map(g => g.assessmentScore)) : 0;
    document.getElementById('top-score-aggregate').textContent = topScore + '%';
    
    const uniqueStates = new Set(games.map(game => game.state));
    document.getElementById('states-count-aggregate').textContent = uniqueStates.size;
    
    const approachDistribution = document.getElementById('approach-distribution');
    approachDistribution.innerHTML = '';
    
    const approachCounts = {
        'APC': 0, 'PDP': 0, 'NNPP': 0, 'LP': 0, 'Other': 0
    };
    
    games.forEach(game => {
        if (game.approach && approachCounts.hasOwnProperty(game.approach)) {
            approachCounts[game.approach] = (approachCounts[game.approach] || 0) + 1;
        } else {
            approachCounts['Other'] = (approachCounts['Other'] || 0) + 1;
        }
    });
    
    Object.entries(approachCounts).forEach(([approach, count]) => {
        if (count > 0) {
            const percentage = Math.round((count / games.length) * 100);
            const card = document.createElement('div');
            card.className = 'aggregate-card';
            card.innerHTML = `
                <div class="aggregate-number">${count}</div>
                <div>${approach}</div>
                <div style="font-size: 0.8rem; color: #666; margin-top: 5px;">${percentage}%</div>
            `;
            approachDistribution.appendChild(card);
        }
    });
    
    if (simulationStartTime) {
        document.getElementById('assessment-start-date').textContent = simulationStartTime.toLocaleDateString();
    }
    
    document.getElementById('total-assessments').textContent = games.length;
    
    let mostCommonApproach = '-';
    let maxCount = 0;
    Object.entries(approachCounts).forEach(([approach, count]) => {
        if (count > maxCount) {
            maxCount = count;
            mostCommonApproach = approach;
        }
    });
    document.getElementById('most-common-approach').textContent = mostCommonApproach;
    
    const stateCounts = {};
    games.forEach(game => {
        if (game.state) {
            stateCounts[game.state] = (stateCounts[game.state] || 0) + 1;
        }
    });
    
    let mostActiveState = '-';
    let maxStateCount = 0;
    Object.entries(stateCounts).forEach(([state, count]) => {
        if (count > maxStateCount) {
            maxStateCount = count;
            mostActiveState = state.toUpperCase();
        }
    });
    document.getElementById('most-active-state').textContent = mostActiveState;
    
    const totalLeaderScore = games.reduce((sum, game) => sum + (game.leaderScore || 0), 0);
    const avgLeaderRating = games.length > 0 ? (totalLeaderScore / games.length).toFixed(1) : '0.0';
    document.getElementById('avg-leader-rating').textContent = avgLeaderRating;
}

function updateFinalResults() {
    let games = [];
    try {
        const gamesJson = localStorage.getItem('arewaLeadershipGames');
        if (gamesJson) {
            games = JSON.parse(gamesJson);
        }
    } catch (e) {
        console.error('Error reading games:', e);
        games = [];
    }
    
    document.getElementById('final-total-participants').textContent = games.length;
    
    const totalScore = games.reduce((sum, game) => sum + game.assessmentScore, 0);
    const avgScore = games.length > 0 ? Math.round(totalScore / games.length) : 0;
    document.getElementById('final-avg-score').textContent = avgScore + '%';
    
    const topScore = games.length > 0 ? Math.max(...games.map(g => g.assessmentScore)) : 0;
    document.getElementById('final-top-score').textContent = topScore + '%';
    
    const uniqueStates = new Set(games.map(game => game.state));
    document.getElementById('final-states-count').textContent = uniqueStates.size;
    
    const approachCounts = {
        'APC': 0, 'PDP': 0, 'NNPP': 0, 'LP': 0, 'Other': 0
    };
    
    games.forEach(game => {
        if (game.approach && approachCounts.hasOwnProperty(game.approach)) {
            approachCounts[game.approach] = (approachCounts[game.approach] || 0) + 1;
        } else {
            approachCounts['Other'] = (approachCounts['Other'] || 0) + 1;
        }
    });
    
    let winningApproach = '-';
    let winningCount = 0;
    Object.entries(approachCounts).forEach(([approach, count]) => {
        if (count > winningCount) {
            winningCount = count;
            winningApproach = approach;
        }
    });
    
    document.getElementById('winning-approach').textContent = winningApproach;
    document.getElementById('winning-approach-count').textContent = winningCount + ' participants';
    
    const regionalAnalysis = document.getElementById('regional-analysis');
    regionalAnalysis.innerHTML = '';
    
    const regions = {
        'North West': ['kano', 'kaduna', 'katsina', 'kebbi', 'sokoto', 'zamfara', 'jigawa'],
        'North East': ['adamawa', 'bauchi', 'borno', 'gombe', 'taraba', 'yobe'],
        'North Central': ['benue', 'kogi', 'kwara', 'nasarawa', 'niger', 'plateau']
    };
    
    Object.entries(regions).forEach(([region, states]) => {
        const regionGames = games.filter(game => states.includes(game.state));
        if (regionGames.length > 0) {
            const regionScore = regionGames.reduce((sum, game) => sum + game.assessmentScore, 0);
            const regionAvg = Math.round(regionScore / regionGames.length);
            
            const regionApproachCounts = {};
            regionGames.forEach(game => {
                if (game.approach) {
                    regionApproachCounts[game.approach] = (regionApproachCounts[game.approach] || 0) + 1;
                }
            });
            
            let topApproach = '-';
            let topApproachCount = 0;
            Object.entries(regionApproachCounts).forEach(([approach, count]) => {
                if (count > topApproachCount) {
                    topApproachCount = count;
                    topApproach = approach;
                }
            });
            
            const engagementRate = Math.round((regionGames.length / games.length) * 100);
            
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${region}</td>
                <td>${regionGames.length}</td>
                <td>${regionAvg}%</td>
                <td>${topApproach}</td>
                <td>${engagementRate}%</td>
            `;
            regionalAnalysis.appendChild(row);
        }
    });
    
    if (simulationStartTime && simulationEndTime) {
        const durationMs = simulationEndTime - simulationStartTime;
        const durationDays = Math.floor(durationMs / (1000 * 60 * 60 * 24));
        document.getElementById('assessment-duration').textContent = durationDays + ' days';
    }
    
    if (games.length > 10) {
        const firstHalf = games.slice(0, Math.floor(games.length / 2));
        const secondHalf = games.slice(Math.floor(games.length / 2));
        const firstAvg = firstHalf.reduce((sum, game) => sum + game.assessmentScore, 0) / firstHalf.length;
        const secondAvg = secondHalf.reduce((sum, game) => sum + game.assessmentScore, 0) / secondHalf.length;
        const growthRate = Math.round(((secondAvg - firstAvg) / firstAvg) * 100);
        document.getElementById('growth-rate').textContent = growthRate + '%';
    }
}

// ========== TAB MANAGEMENT ==========
function showTab(tabId) {
    document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
    });
    
    document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
    });
    
    document.getElementById(tabId).classList.add('active');
    
    document.getElementById(tabId + '-tab').classList.add('active');
    
    if (tabId === 'leaderboard') {
        updateLeaderboard();
    } else if (tabId === 'aggregate-results') {
        updateAggregateResults();
    } else if (tabId === 'final-results') {
        updateFinalResults();
    }
}

// ========== FACEBOOK CHANNEL FUNCTIONS ==========
function followFacebookChannel() {
    window.open(FACEBOOK_CHANNELS.main, '_blank');
    showNotification(gameState.language === 'en' 
        ? 'Opening your Facebook channel...' 
        : 'Ana bu…óe tashar ku ta Facebook...');
}

function explorePrograms() {
    let programsList = "üé≠ Our 7 Entertainment Programs:\n\n";
    FACEBOOK_CHANNELS.programs.forEach(program => {
        programsList += `${program.emoji} ${program.name}\n`;
    });
    programsList += "\nVisit our Facebook page to explore them all!";
    
    alert(programsList);
}

function joinDiscussion() {
    const message = gameState.language === 'en'
        ? "Join our Facebook community for discussions about Northern Nigeria's challenges and solutions. Click OK to visit our page."
        : "Shiga al'ummarmu ta Facebook don tattaunawa game da ∆ôalubalen Arewa da hanyoyin magance su. Danna OK don ziyartar shafin mu.";
    
    if (confirm(message)) {
        window.open(FACEBOOK_CHANNELS.main, '_blank');
    }
}

// ========== SAFE FACEBOOK SHARING ==========
function shareFacebookSafe() {
    const score = gameState.assessmentScore;
    const approach = gameState.selectedApproach;
    const region = gameState.state ? gameState.state.toUpperCase() : '';
    const lang = gameState.language;
    
    const safeMessages = {
        en: [
            `üìä Leadership Assessment: ${score}% alignment with ${approach} approach in ${region}. Take the Arewa Leadership Game!`,
            `üèõÔ∏è My leadership assessment result: ${score}%. How do your leadership values align in Northern Nigeria?`,
            `üéÆ Scored ${score}% in the Arewa Leadership Assessment Game. Test your leadership perspective!`,
            `üìà Leadership analysis: ${score}% alignment. Explore different governance approaches in this educational game.`,
            `üß† Learned about leadership approaches! ${score}% on the Arewa Leadership Assessment. An insightful educational game.`
        ],
        ha: [
            `üìä Tantance Jagoranci: ${score}% daidaito da tsarin ${approach} a ${region}. Yi Wasan Tantance Jagoranci na Arewa!`,
            `üèõÔ∏è Sakamakon tantance jagoranci na: ${score}%. Yaya ∆ôimar jagorancinku ta yi daidai a Arewa?`,
            `üéÆ Makin ${score}% a Wasan Tantance Jagoranci na Arewa. Gwada hangen nesa na jagorancinku!`,
            `üìà Binciken jagoranci: ${score}% daidaito. Bincika hanyoyin gudanarwa daban-daban a cikin wannan wasan ilimi.`,
            `üß† Na koya game da hanyoyin jagoranci! ${score}% akan Tantance Jagoranci na Arewa. Wani wasa mai zurfin ilimi.`
        ]
    };
    
    const messages = safeMessages[lang] || safeMessages.en;
    const message = messages[Math.floor(Math.random() * messages.length)];
    
    const url = window.location.href;
    const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(message)}`;
    
    window.open(facebookUrl, '_blank', 'width=600,height=400');
    
    trackEducationalShare();
}

function trackEducationalShare() {
    const shares = JSON.parse(localStorage.getItem('educational_shares') || '[]');
    shares.push({
        type: 'leadership_assessment',
        timestamp: new Date().toISOString(),
        platform: 'facebook'
    });
    localStorage.setItem('educational_shares', JSON.stringify(shares));
}

// ========== OTHER SHARE FUNCTIONS ==========
function shareTwitter() {
    const lang = gameState.language;
    const text = lang === 'en' 
        ? `üèõÔ∏è Scored ${gameState.assessmentScore}% in Arewa Leadership Assessment Game!\n\nTake the assessment:` 
        : `üèõÔ∏è Makin ${gameState.assessmentScore}% a Wasan Tantance Jagoranci na Arewa!\n\nYi tantancewar:`;
    
    const url = window.location.href;
    const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}&hashtags=LeadershipGame,ArewaEducation`;
    window.open(twitterUrl, '_blank', 'width=600,height=400');
}

function shareWhatsApp() {
    const lang = gameState.language;
    const text = lang === 'en' 
        ? `Check out my leadership assessment results! I scored ${gameState.assessmentScore}% in the Arewa Leadership Assessment Game.\n\nTake the assessment here: ${window.location.href}` 
        : `Duba sakamakon tantance jagoranci na! Na sami maki ${gameState.assessmentScore}% a cikin Wasan Tantance Jagoranci na Arewa.\n\nYi tantancewar nan: ${window.location.href}`;
    
    const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(text)}`;
    window.open(whatsappUrl, '_blank', 'width=600,height=400');
}

function shareEmail() {
    const lang = gameState.language;
    const subject = lang === 'en' 
        ? 'My Arewa Leadership Assessment Game Results' 
        : 'Sakamakon Wasan Tantance Jagoranci Na na Arewa';
    
    const body = lang === 'en' 
        ? `Hi,\n\nI just completed the Arewa Leadership Assessment Game and scored ${gameState.assessmentScore}%!\n\nHere are my results:\n- State: ${gameState.state.toUpperCase()}\n- LGA: ${gameState.lga.replace(/_/g, ' ')}\n- Approach: ${gameState.selectedApproach}\n- Leader: ${gameState.leaderName}\n- Assessment Score: ${gameState.assessmentScore}%\n\nTake the assessment yourself: ${window.location.href}\n\nBest regards,` 
        : `Sannu,\n\nNa kammala Wasan Tantance Jagoranci na Arewa kuma na sami maki ${gameState.assessmentScore}%!\n\nGa sakamakon na:\n- Jiha: ${gameState.state.toUpperCase()}\n- Karamar Hukuma: ${gameState.lga.replace(/_/g, ' ')}\n- Hanya: ${gameState.selectedApproach}\n- Jagora: ${gameState.leaderName}\n- Makin Tantancewa: ${gameState.assessmentScore}%\n\nYi tantancewar da kanku: ${window.location.href}\n\nGaisuwa,`;
    
    const mailtoUrl = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    window.location.href = mailtoUrl;
}

function copyResults() {
    const lang = gameState.language;
    const text = lang === 'en' 
        ? `Arewa Leadership Assessment Game Results\n\nüèõÔ∏è State: ${gameState.state.toUpperCase()}\nüìç LGA: ${gameState.lga.replace(/_/g, ' ')}\nüéØ Approach: ${gameState.selectedApproach}\n‚≠ê Assessment Score: ${gameState.assessmentScore}%\nüëë Leader: ${gameState.leaderName}\n\nTake the assessment: ${window.location.href}\n\n#LeadershipGame #ArewaEducation` 
        : `Sakamakon Wasan Tantance Jagoranci na Arewa\n\nüèõÔ∏è Jiha: ${gameState.state.toUpperCase()}\nüìç Karamar Hukuma: ${gameState.lga.replace(/_/g, ' ')}\nüéØ Hanya: ${gameState.selectedApproach}\n‚≠ê Makin Tantancewa: ${gameState.assessmentScore}%\nüëë Jagora: ${gameState.leaderName}\n\nYi tantancewar: ${window.location.href}\n\n#WasanJagoranci #IliminArewa`;
    
    navigator.clipboard.writeText(text).then(() => {
        showNotification(lang === 'en' ? 'Results copied to clipboard!' : 'An kwafi sakamakon zuwa allon rubutu!');
    }).catch(() => {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        showNotification(lang === 'en' ? 'Results copied to clipboard!' : 'An kwafi sakamakon zuwa allon rubutu!');
    });
}

// ========== UTILITY FUNCTIONS ==========
function updateParticipantStats() {
    let games = [];
    try {
        const gamesJson = localStorage.getItem('arewaLeadershipGames');
        if (gamesJson) {
            games = JSON.parse(gamesJson);
        }
    } catch (e) {
        console.error('Error reading games:', e);
        games = [];
    }
    
    const totalParticipants = document.getElementById('total-participants-count');
    const statesParticipated = document.getElementById('states-participants-count');
    
    if (totalParticipants) totalParticipants.textContent = games.length;
    
    const uniqueStates = new Set(games.map(game => game.state));
    if (statesParticipated) statesParticipated.textContent = uniqueStates.size;
}

function updateApproachCounts() {
    let games = [];
    try {
        const gamesJson = localStorage.getItem('arewaLeadershipGames');
        if (gamesJson) {
            games = JSON.parse(gamesJson);
        }
    } catch (e) {
        console.error('Error reading games:', e);
        games = [];
    }
    
    const approachCounts = {
        'APC': 0, 'PDP': 0, 'NNPP': 0, 'LP': 0
    };
    
    games.forEach(game => {
        if (game.approach && approachCounts.hasOwnProperty(game.approach)) {
            approachCounts[game.approach] = (approachCounts[game.approach] || 0) + 1;
        }
    });
    
    ['APC', 'PDP', 'NNPP', 'LP'].forEach(approach => {
        const element = document.getElementById(`${approach.toLowerCase()}-count`);
        if (element) {
            const participantsText = gameState.language === 'en' ? 'participants' : 'mahalarta';
            element.textContent = `${approachCounts[approach]} ${participantsText}`;
        }
    });
}

function returnToWelcome() {
    const confirmText = gameState.language === 'en' 
        ? 'Are you sure you want to return to the welcome screen? Any unsaved progress will be lost.' 
        : 'Shin kuna da tabbacin komawa zuwa allon maraba? Duk wani ci gaban da ba a adana ba zai …ìace.';
    
    if (confirm(confirmText)) {
        resetGame();
    }
}

function resetGame() {
    gameState.selectedApproach = '';
    gameState.leaderName = '';
    gameState.leaderRatings = {};
    gameState.assessmentScore = 0;
    gameState.gameCompleted = false;
    gameState.opinionPoints = ['', '', '', '', ''];
    gameState.leaderScore = 0;
    gameState.approachBonus = 0;
    gameState.opinionBonus = 0;
    
    document.getElementById('main-game').classList.add('hidden');
    document.getElementById('welcome-screen').classList.remove('hidden');
    document.querySelector('.game-area').style.display = 'grid';
    document.getElementById('results-area').classList.add('hidden');
    document.getElementById('facebook-community-section').style.display = 'none';
    document.getElementById('opinion-section').style.display = 'none';
    
    document.querySelectorAll('.approach-card').forEach(card => {
        card.classList.remove('selected');
    });
    
    const leaderInput = document.getElementById('leader-name');
    if (leaderInput) leaderInput.value = '';
    
    for (let i = 1; i <= 5; i++) {
        const input = document.getElementById(`opinion${i}`);
        if (input) input.value = '';
    }
    
    const achievementList = document.getElementById('achievement-list');
    if (achievementList) achievementList.innerHTML = '';
    
    document.getElementById('alignment-fill').style.width = '0%';
    const statusText = gameState.language === 'en' ? 'ASSESSMENT STATUS: 0%' : 'MATSAYIN TANTANCEWA: 0%';
    document.getElementById('alignment-status').textContent = statusText;
    document.getElementById('alignment-level').textContent = gameState.language === 'en' ? 'ASSESSING' : 'ANA TANTANCEWA';
    
    updateProgressIndicator(1);
}

function playAgain() {
    resetGame();
}

// ========== EXPORT FUNCTIONS ==========
function exportPersonalResults() {
    const data = {
        participantId: gameState.playerId,
        timestamp: new Date().toISOString(),
        state: gameState.state,
        lga: gameState.lga,
        approach: gameState.selectedApproach,
        leaderName: gameState.leaderName,
        opinionPoints: gameState.opinionPoints,
        assessmentScore: gameState.assessmentScore,
        breakdown: {
            leaderScore: gameState.leaderScore + '%',
            approachAlignment: '+' + gameState.approachBonus + '%',
            analysisBonus: '+' + gameState.opinionBonus + '%',
            totalScore: gameState.assessmentScore + '%'
        },
        language: gameState.language
    };
    
    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `arewa-leadership-assessment-${gameState.playerId}.json`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    
    showNotification(gameState.language === 'en' 
        ? 'Personal results exported!' 
        : 'An fitar da sakamakon sirri!');
}

function exportAllResults() {
    let games = [];
    try {
        const gamesJson = localStorage.getItem('arewaLeadershipGames');
        if (gamesJson) {
            games = JSON.parse(gamesJson);
        }
    } catch (e) {
        console.error('Error reading games:', e);
        games = [];
    }
    
    let csv = 'Participant ID,Timestamp,State,LGA,Approach,Leader,Assessment Score,Leader Score,Approach Bonus,Analysis Bonus\n';
    
    games.forEach(game => {
        csv += `"${game.id}","${game.timestamp}","${game.state || ''}","${game.lga || ''}","${game.approach || ''}","${game.leaderName || ''}",${game.assessmentScore || 0},${game.leaderScore || 0},${game.approachBonus || 0},${game.opinionBonus || 0}\n`;
    });
    
    const blob = new Blob([csv], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `arewa-leadership-assessment-all-results-${new Date().toISOString().slice(0,10)}.csv`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    
    showNotification(gameState.language === 'en' 
        ? 'All results exported as CSV!' 
        : 'An fitar da duk sakamakon a matsayin CSV!');
}

function exportAggregateResults() {
    let games = [];
    try {
        const gamesJson = localStorage.getItem('arewaLeadershipGames');
        if (gamesJson) {
            games = JSON.parse(gamesJson);
        }
    } catch (e) {
        console.error('Error reading games:', e);
        games = [];
    }
    
    const totalParticipants = games.length;
    const totalScore = games.reduce((sum, game) => sum + game.assessmentScore, 0);
    const avgScore = games.length > 0 ? Math.round(totalScore / games.length) : 0;
    const topScore = games.length > 0 ? Math.max(...games.map(g => g.assessmentScore)) : 0;
    const uniqueStates = new Set(games.map(game => game.state));
    
    const approachCounts = {
        'APC': 0, 'PDP': 0, 'NNPP': 0, 'LP': 0, 'Other': 0
    };
    
    games.forEach(game => {
        if (game.approach && approachCounts.hasOwnProperty(game.approach)) {
            approachCounts[game.approach] = (approachCounts[game.approach] || 0) + 1;
        } else {
            approachCounts['Other'] = (approachCounts['Other'] || 0) + 1;
        }
    });
    
    const data = {
        assessmentStartTime: simulationStartTime ? simulationStartTime.toISOString() : null,
        assessmentEndTime: simulationEndTime ? simulationEndTime.toISOString() : null,
        isAssessmentEnded: isSimulationEnded,
        aggregateStats: {
            totalParticipants: totalParticipants,
            averageScore: avgScore + '%',
            topScore: topScore + '%',
            statesRepresented: uniqueStates.size,
            approachDistribution: approachCounts
        },
        exportTimestamp: new Date().toISOString()
    };
    
    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `arewa-leadership-assessment-aggregate-${new Date().toISOString().slice(0,10)}.json`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    
    showNotification(gameState.language === 'en' 
        ? 'Aggregate results exported!' 
        : 'An fitar da sakamako gaba…óaya!');
}

function exportLeaderboard() {
    let games = [];
    try {
        const gamesJson = localStorage.getItem('arewaLeadershipGames');
        if (gamesJson) {
            games = JSON.parse(gamesJson);
        }
    } catch (e) {
        console.error('Error reading games:', e);
        games = [];
    }
    
    games.sort((a, b) => b.assessmentScore - a.assessmentScore);
    
    let csv = 'Rank,Participant ID,Score,Approach,State,Date\n';
    
    games.forEach((game, index) => {
        csv += `${index + 1},"${game.id}","${game.assessmentScore}%","${game.approach || ''}","${game.state || ''}","${new Date(game.timestamp).toLocaleDateString()}"\n`;
    });
    
    const blob = new Blob([csv], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `arewa-leadership-assessment-leaderboard-${new Date().toISOString().slice(0,10)}.csv`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    
    showNotification(gameState.language === 'en' 
        ? 'Assessment board exported!' 
        : 'An fitar da jerin masu ∆ôwarewa!');
}

function exportAggregateData() {
    exportAggregateResults();
}

function exportStatistics() {
    exportAggregateResults();
}

function exportFinalReport() {
    showNotification(gameState.language === 'en' 
        ? 'Final report export would generate a PDF in a real implementation.' 
        : 'A zahiri, fitar da rahoton ∆ôarshe zai haifar da PDF.');
}

function exportExecutiveSummary() {
    showNotification(gameState.language === 'en' 
        ? 'Executive summary export would generate a document in a real implementation.' 
        : 'A zahiri, fitar da ta∆ôaitaccen bayani zai haifar da takarda.');
}

function exportRawData() {
    exportAllResults();
}

function printLeaderboard() {
    window.print();
}
</script>
</body>
</html>
